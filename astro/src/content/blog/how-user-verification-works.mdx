---
publish_date: 2025-11-12
title: "How user verification works: email, phone number, and username"
description: "Understand how the new verified and verifiedReason fields work on the user object in FusionAuth"
authors: Person McPersonface
image: /img/blogs/mcp-explainer/understanding-model-context-protocol.png
categories: Education
tags: user, verification, email, phone
excerpt_separator: "{/* more */}"
---

import Aside from 'src/components/Aside.astro';
import Breadcrumb from 'src/components/Breadcrumb.astro';
import InlineField from 'src/components/InlineField.astro';
import InlineUIElement from 'src/components/InlineUIElement.astro';
import PremiumPlanBlurb from 'src/content/docs/_shared/_premium-plan-blurb.astro';

- [⛔ The Old Way Of Verification](#-the-old-way-of-verification)
	- [The Object Model](#the-object-model)
	- [The Verification Process](#the-verification-process)
- [✅ The New Way Of Verification](#-the-new-way-of-verification)
	- [The Object Model](#the-object-model-1)
	- [The Verification Process](#the-verification-process-1)
- [Summary](#summary)
- [todo](#todo)


User verification (proof of email address or phone number ownership) is done by the user by entering a code or clicking a link sent to the address they registered with.

The FusionAuth field `user.verified` stores whether the user has completed email verification yet. But as of [FA version 1.59](https://fusionauth.io/docs/release-notes/#version-1-59-0) (August 2025), this field is deprecated. FA now handles verification for each type of identity separately (email and phone).

This article discusses exactly what's changed with verification and how the new features work.

## ⛔ The Old Way Of Verification

Let's summarize the obsolete email verification system from before version 1.59. Even if you're a new user working on the latest version of FA, read this section first, as the verification process of sending and clicking links hasn't changed in the new version.

### The Object Model

If you're unfamiliar with FA types, like Tenants, Applications, Users, and Registrations, please review the [documentation](https://fusionauth.io/docs/get-started/core-concepts/types-and-relationships). The relationship diagram below summarizes the types.

Notice that users are members of applications through an object called a registration (because a user "registers", or signs up, to use an application).

![FA type diagram](../../../public/img/docs/get-started/core-concepts/core-concepts-relationships-tenants.png)

If you open your FA database, you'll see the user object is split in two tables: `users` and `identities`. The user table holds biographical information like name, birth date, and timezone. The identities table holds multiple records for a user, which might include a username, email address, and phone number. To update users, you should use the FA web interface or the [users API](https://fusionauth.io/docs/apis/users) and mustn't access the database directly, but the user object in the API has the same structure as the database tables.

![Old database](../../../public/img/blogs/how-user-verification-works/oldDatabase.webp)

Verification in FA prior to 1.59 is only for email addresses (and not phone numbers or other identifiers).

Each user identity (email address) has the fields `verified` and `verified_instant`. `verified` is false until the user clicks the verification link, when it becomes true. `verified_instant` is the time at which the user verified.

A registration also has the fields `verified` and `verified_instant`. If the user identity already has a verified field, why does the registration need another verification field? The [application registration tutorial](https://fusionauth.io/docs/lifecycle/manage-users/verification/registration-gate-accounts-until-verified) explains this:
>  However, PiedPiper requires separate registration verification to allow access to both Not-Hotdog and PiperChat through the same email account. This registration verification is a concrete, separate step that the user must engage in by clicking a link or entering a code (sent via email). Without this verification step, **users may find it alarming their logins (jared@piedpiper.com) work for both Not-Hotdog and PiperChat (without their express consent, especially if they did not know about the parent company relationship)**.

This quote explains that a user verifying that they signed up to use an application has a different purpose to a user verifying their email or phone when creating an account in FA, though both procedures are named verification and both send a link the user must click.

### The Verification Process

To see how email verification works, you first need an SMTP server. The simplest way to test is using a fake SMTP service, like [SMTPBucket](https://www.smtpbucket.com).

---

Tenants -> Default -> Select -> Edit -> Email tab
Host: mail.smtpbucket.com
Port: 8025

Enable Verify registrations
Verification template `Registration Verification`


Enable Verify email
Verification template - Choose `Email Verification` template


Save

![Email settings](../../../public/img/blogs/how-user-verification-works/email.webp)

---

Applications -> New (+ button)
Name it `EmailTestApp`
OAuth tab - Authorized redirect URLs - add `http://localhost:9011/registration-complete`, select the value as a dropdown and click it
Registration tab -> Enable self service
Save

Applications -> EmailTestApp -> Select -> View
Copy value from Registration URL field

Paste into browser private tab:

http://localhost:9011/oauth2/register?client_id=ff69a179-d0ff-4265-8584-1cb1b723f73d&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A9011%2Fregistration-complete

Enter
test@example.com
password

Browse to https://www.smtpbucket.com
Search for email to recipient test@example.com

![Verification email](../../../public/img/blogs/how-user-verification-works/verificationEmail.webp)

Click the link

![Verify email](../../../public/img/blogs/how-user-verification-works/verifyEmail.webp)

You will receive similar emails for verifying your registration to the application in addition to your email address.

![Verify registration email](../../../public/img/blogs/how-user-verification-works/verifyRegistrationEmail.webp)

![Verify registration](../../../public/img/blogs/how-user-verification-works/verifyRegistration.webp)

Users -> test@example.com -> Select -Manage

![Verified user](../../../public/img/blogs/how-user-verification-works/userVerified.webp)

![Registration verified](../../../public/img/blogs/how-user-verification-works/registrationVerified.webp)

## ✅ The New Way Of Verification

### The Object Model

The easiest way to understand the new FA verification model is to look at the new Identities tab in a Tenant. In the image below you can see the old version of FA on the left and the new version on the right.

The SMTP settings remain in the new version of the Email tab, but the verification settings and email templates have moved to the new Identities tab.

![New Identities tab](../../../public/img/blogs/how-user-verification-works/newIdentities.svg)

However, the Identities tab isn't just for email. FA now supports phone numbers as a unique identifier for users in addition to email addresses. You can see the Identities tab has two columns, with email on the left and identical settings for phone on the right.

As well as identity verification changing, FA has also changed registration verification. **Registration verification has been removed**. FA no longer believes that users "find it alarming their logins" work for two different applications without explicit confirmation.

The user object model shows these changes. You can see in the new database diagram below that user identities now hold all verification information, and the fields related to verification in other tables have been deprecated.

![New database](../../../public/img/blogs/how-user-verification-works/newDatabase.webp)

Each identity has a `type`, which might be email, phone, or username. The `value` field contains the actual email address or phone number.

There's also a new field, `verified_reason`.

user.identities[x].verified along with user.identities[x].verifiedReason.



In the database, the table `identities`, which links to the tables `users` and `tenants`, has the fields `verified`, `verified_instant`, and `verified_reason` (this field is new). A tenant is a way partitioning FA to work for multiple customers in the same database. For example, a user in the Company1 tenant might log in to Company1's website with FusionAuth, and have a completely separate login using the same email address but different password with Company2 (a different tenant), even though both websites use the same FusionAuth database as their authentication provider. `verified` is true or false, and `verified_instant` is the time at which the user verified.

The `users` table also has a `verified_instant` field (this is new).

The `user_registrations` table also has the fields `verified` and `verified_instant`, and links to the tables `users`, `applications`, and `user_registrations_applications_roles`. An Application is like a company website or product. So the Company1 tenant might have one application (website) for employees and another application for customers. A user is granted access to an application by creating a Registration — a link between user and application kept in the `user_registrations` table. So an employee of the company might register with the customer application too. They will be one user with two registrations.

If the user record already has a verified field, why does the registration record need another verification field? The [application registration tutorial](https://fusionauth.io/docs/lifecycle/manage-users/verification/registration-gate-accounts-until-verified) explains this:
>  However, PiedPiper requires separate registration verification to allow access to both Not-Hotdog and PiperChat through the same email account. This registration verification is a concrete, separate step that the user must engage in by clicking a link or entering a code (sent via email). Without this verification step, **users may find it alarming their logins (jared@piedpiper.com) work for both Not-Hotdog and PiperChat (without their express consent, especially if they did not know about the parent company relationship)**.

Registration verification is deprecated and will be removed in a future version of FusionAuth.

If the `verifiedReason` field is `Disabled`, `Import`, `Skipped`, `Trusted`, or `Unverifiable` then essentially FA treats the user as verified even if the actual `user.identities.verified` field is false.

### The Verification Process

The verification process for email remains the same in the latest version. Phone verification is very similar. In an identical way to email, the user will receive a link to click to confirm registration, or a code they can type into FusionAuth.

To send an SMS message from FusionAuth you need to configure an SMS provider. Whereas SMTP providers for email are configured per tenant, SMS is configured for the whole FA instance in the Settings -> Messengers tab. To separate SMS fees for different clients, you can create multiple Messengers and link each Tenant to their own Messenger.

![SMS settings](../../../public/img/blogs/how-user-verification-works/addMessenger.webp)

## Summary

## todo

User API

For /api/user GET:

user.verified is now a deprecated field that only indicates whether or not the User’s primary email identity has been verified. This does NOT indicate whether phone number identity types are verified. Use user.identities[x].verified and user.identities[x].verifiedReason instead.

For /api/user POST:

sendSetPasswordEmail is deprecated. Use sendSetPasswordIdentityType instead.

For /api/user/forgot-password POST:

sendForgotPasswordEmail is deprecated. Use sendForgotPasswordMessage instead.

User Registration API

sendSetPasswordEmail is deprecated. Use sendSetPasswordIdentityType instead.

---



---


https://drafts.cc.ritza.co/s/LKoWCFSPP#
FA -> FusionAuth
use screenshots from other tutorials
use proper inline fields, breacrumbers, and ui control components


update tutorials:
- https://fusionauth.io/docs/lifecycle/manage-users/verification/gate-accounts-until-user-email-verified
- https://fusionauth.io/docs/lifecycle/manage-users/verification/registration-gate-accounts-until-verified

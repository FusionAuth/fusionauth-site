import JSON from 'src/components/JSON.astro';
import InlineField from 'src/components/InlineField.astro';

{/*  keep in sync with login.adoc */}

*Response Codes*
{/* Avoiding HTML in markdown tables is difficult */}
{/* lint ignore no-html */}
| Code | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 200  | The authentication was successful. The response will contain the User object that was authenticated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 202  | The user was authenticated successfully. The user is not registered for the application specified by the `applicationId` on the request.  The response will contain the User object that was authenticated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 203  | The user was authenticated successfully. The user is required to change their password, the response will contain the `changePasswordId` to be used on the [Change Password](/docs/apis/users#change-a-users-password) API.  Since version `1.15.0`, the response will also contain a `changePasswordReason` field which can have one of the following values: <ul><li>`Administrative` - An administrator has required this user to change their password.</li><li>`Breached` - The password has been found to have belonged to a breached dataset and must be changed, per the Reactor configuration.</li><li>`Expired` - The password has expired, per the expiration setting in the tenant configuration.</li><li>`Validation` - The password fails the validation rules configured in the tenant password settings.</li></ul><JSON title="Example Response JSON" src="login/login-change-password-response.json" /> |
| 212  | The user's email address (if an email address or username was used to authenticate) or phone number has not yet been verified. The response will contain the User object that was authenticated. If the tenant verification strategy has been set to `FormField`, the response will contain the verification Id that was generated for the user.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 213  | The user's registration has not yet been verified. The response will contain the User object that was authenticated. If the application's <InlineField>emailConfiguration.verificationStrategy</InlineField> has been set to `FormField`, the response will contain the <InlineField>registrationVerificationId</InlineField> that was generated for the user. <br /><br /> Prior to version `1.27.0`, this status code was not returned, and you will see a `200` instead.                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 242  | The user was authenticated successfully. The user has two factor authentication enabled. Since version `1.42.0`, this status code is also returned when two factor authentication is required. The response will contain the `twoFactorId` to be used on the [Complete Two Factor Authentication](/docs/apis/login#complete-multi-factor-authentication) API.<br /><br /><JSON title="Example Response JSON" src="login/login-two-factor-response.json" />                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 400  | The request was invalid and/or malformed. The response will contain an [Errors](/docs/apis/errors) JSON Object with the specific errors.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 401  | You did not supply a valid Authorization header. The header was omitted or your API key was not valid. The response will be empty. See [Authentication](/docs/apis/authentication). <br /><br /> By default, this API will require authentication.<br /><br /> Authentication may be disabled per Application, see `application.loginConfiguration.requireAuthentication` in the [Application API](/docs/apis/applications) or the Security tab in the Application configuration. Prior to version `1.5.0` this API never require an API key. If you are not sending an `applicationId` then this settings is configured at the tenant level, see `tenant.loginConfiguration.requireAuthentication` on the [Tenant API](/docs/apis/tenants) or the Security tab in the Tenant configuration.                                                                                                                             |
| 404  | The user was not found or the password was incorrect. The response will be empty.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 409  | The user is currently in an action that has prevented login. The response will contain the actions that prevented login.<br /><br /><JSON title="Example Response JSON" src="login/login-prevented-response.json" />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 410  | The user has expired. The response will be empty.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 423  | The user is locked and cannot login. The response will be empty.<br />Prior to version `1.9.0` a `404` status code will be returned instead.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 500  | There was an internal error. A stack trace is provided and logged in the FusionAuth log files. The response will be empty.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 503  | The search index is not available or encountered an exception so the request cannot be completed. The response will contain a JSON body.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 504  | One or more Webhook endpoints returned an invalid response or were unreachable. Based on the transaction configuration for this event your action cannot be completed. A stack trace is provided and logged in the FusionAuth log files.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

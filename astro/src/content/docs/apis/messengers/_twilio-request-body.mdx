import APIBlock from 'src/components/api/APIBlock.astro';
import APIField from 'src/components/api/APIField.astro';
import InlineField from 'src/components/InlineField.astro';
import JSON from 'src/components/JSON.astro';

#### Request Body

<APIBlock>
  <APIField name="messenger.accountSID" type="String" required>
    The Twilio Account ID to use when connecting to the Twilio API. This can be found in your Twilio dashboard.
  </APIField>
  <APIField name="messenger.authToken" type="String" optional>
    The Twilio Auth Token to use when connecting to the Twilio API. This can be found in your Twilio dashboard.
  </APIField>
  <APIField name="messenger.data" type="Object" optional>
    An object that can hold any information about the Messenger that should be persisted.
  </APIField>
  <APIField name="messenger.debug" type="Boolean" optional defaults="false">
    If debug is enabled, an event log is created to assist in debugging messenger errors.
  </APIField>
  <APIField name="messenger.fromPhoneNumber" type="String" optional>
    The configured Twilio phone number that will be used to send messages. This can be found in your Twilio dashboard.
  </APIField>
  <APIField name="messenger.messagingServiceSid" type="String" optional>
    The Twilio message service Id, this is used when using Twilio Copilot to load balance between numbers. This can be found in your Twilio dashboard.

    When using <InlineField>messagingServicesSid</InlineField>, you may omit the <InlineField>fromPhoneNumber</InlineField> field.
  </APIField>
  <APIField name="messenger.name" type="String" required>
    The unique Messenger name.
  </APIField>
  <APIField name="messenger.url" type="String" required>
    The fully qualified URL of the Twilio API endpoint that will accept requests from FusionAuth.
  </APIField>
</APIBlock>

<JSON title="Example Request JSON" src="messengers/twilio-request.json" />

import APIBlock from 'src/components/api/APIBlock.astro';
import APIField from 'src/components/api/APIField.astro';
import InlineField from 'src/components/InlineField.astro';
import JSON from 'src/components/JSON.astro';

#### Request Body

<APIBlock>
  <APIField name="applicationId" type="UUID" required>
    The Id for the application to which the user wishes to authenticate.
  </APIField>
  <APIField name="credentialId" type="UUID" optional>
    The unique database Id for one of a user's passkeys. When provided, the authentication ceremony will use this passkey. Otherwise, any of a user's passkeys that meet the user verification requirement will be eligible for the authentication ceremony.
  </APIField>
  <APIField name="loginId" type="String" optional>
    The email or the username of the authenticating user.

    Required if <InlineField>userId</InlineField> is not present. If both fields are provided in the request body, the <InlineField>userId</InlineField> will be utilized.
  </APIField>
  <APIField name="state" type="Object" optional>
    An optional object that will be returned un-modified when you complete the WebAuthn authentication request. This may be useful to return the user to a particular state once they complete the authentication.
  </APIField>
  <APIField name="userId" type="UUID" optional>
    The unique Id of the authenticating user.

    This field is marked optional, but you must provide either the <InlineField>loginId</InlineField> or the <InlineField>userId</InlineField> to complete this API. If both fields are provided in the request body, the <InlineField>userId</InlineField> will be utilized.
  </APIField>
  <APIField name="workflow" type="String" required>
    The WebAuthn workflow for the current authentication ceremony. The workflow value changes the `options` object generated by this API. The `options` object is built to be passed to the [WebAuthn JavaScript API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API) call. The possible values are:

    * `bootstrap` - The user is authenticating using a WebAuthn passkey after providing their email, username, or other information to identify themselves.
    * `reauthentication` - The user is reauthenticating on a device they have previously authenticated from.
  </APIField>
</APIBlock>

<JSON title="Example Request JSON" src="webauthn/authenticate-start-request.json" />

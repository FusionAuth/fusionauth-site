import APIBlock from 'src/components/api/APIBlock.astro';
import APIField from 'src/components/api/APIField.astro';
import InlineFieldValue from 'src/components/InlineFieldValue.astro';
import JSON from 'src/components/JSON.astro';

#### Request Body

<APIBlock>
  <APIField name="userAction.cancelEmailTemplateId" type="UUID" optional>
    The Id of the Email Template that is used when User Actions are canceled.
  </APIField>
  <APIField name="userAction.endEmailTemplateId" type="UUID" optional>
    The Id of the Email Template that is used when User Actions expired automatically (end).
  </APIField>
  <APIField name="userAction.includeEmailInEventJSON" type="Boolean" optional>
    Whether to include the email information in the JSON that is sent to the Webhook when a user action is taken.
  </APIField>
  <APIField name="userAction.localizedNames" type="Map<Locale, String>" optional>
    A mapping of localized names for this User Action. The key is the Locale and the value is the name of the User Action for that language.
  </APIField>
  <APIField name="userAction.modifyEmailTemplateId" type="UUID" optional>
    The Id of the Email Template that is used when User Actions are modified.
  </APIField>
  <APIField name="userAction.name" type="String" required>
    The name of this User Action.
  </APIField>
  <APIField name="userAction.options" type="Array" optional>
    The list of User Action Options.
  </APIField>
  <APIField name="userAction.options[x].localizedNames" type="Map<Locale, String>" optional>
    A mapping of localized names for this User Action Option. The key is the Locale and the value is the name of the User Action Option for that language.
  </APIField>
  <APIField name="userAction.options[x].name" type="String" optional>
    The name of this User Action Option.
  </APIField>
  <APIField name="userAction.preventLogin" type="Boolean" optional defaults="false">
    Whether or not this User Action will prevent user login. When this value is set to <InlineFieldValue>true</InlineFieldValue> the action must also be marked as a time based action. See `temporal`.
  </APIField>
  <APIField name="userAction.sendEndEvent" type="Boolean" optional defaults="true">
    Whether or not FusionAuth will send events to any registered Webhooks when this User Action expires.

    Prior to version `1.36.7` this value defaulted to <InlineFieldValue>false</InlineFieldValue>. The default value was modified to be <InlineFieldValue>true</InlineFieldValue> by default to reduce confusion because in most cases when utilizing User Action events, the end event is desired.
  </APIField>
  <APIField name="userAction.startEmailTemplateId" type="UUID" optional>
    The Id of the Email Template that is used when User Actions are started (created).
  </APIField>
  <APIField name="userAction.temporal" type="Boolean" optional defaults="false">
    Whether or not this User Action is time-based (temporal). Time based actions are temporary and once expired the action will no longer be considered active and will not affect the user.

    An action that prevents login must be time based.

    Time based actions can still be applied to a user for an indefinite amount of time. A time based action is one that may be canceled or modified. A non time-based action may not be modified or canceled.

    An example of a non time-based action would be a reward, such as sending a user a coupon. This action cannot be canceled, or modified. When a non time-based action is taken, it is immediately complete and will show up in the user action history.
  </APIField>
  <APIField name="userAction.userEmailingEnabled" type="Boolean" optional defaults="false">
    Whether or not email is enabled for this User Action. If this is true, a checkbox will appear in the FusionAuth UI for this User Action that allows admins to specify that they want to email the User.
  </APIField>
  <APIField name="userAction.userNotificationsEnabled" type="Boolean" optional defaults="false">
    Whether or not user notifications are enabled for this User Action. If this is true, a checkbox will appear in the FusionAuth UI for this User Action that allows admins to specify that they want to "notify users". What this does is send an additional flag named **notifyUser** in the event JSON that is sent to any registered Webhooks.
  </APIField>
</APIBlock>

<JSON title="Example Request JSON" src="user-actions/request.json" />

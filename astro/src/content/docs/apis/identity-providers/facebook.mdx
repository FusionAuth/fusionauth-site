---
title: Facebook
description: Learn about the APIs for creating, retrieving, updating and disabling a Facebook identity provider.
section: apis
subcategory: identity providers
---
import API from 'src/components/api/API.astro';
import APIBlock from 'src/components/api/APIBlock.astro';
import APIField from 'src/components/api/APIField.astro';
import Aside from 'src/components/Aside.astro';
import CompleteLoginText from 'src/content/docs/apis/identity-providers/_complete-login-text.mdx';
import FacebookPostRequestBody from 'src/content/docs/apis/identity-providers/_facebook-post-request-body.mdx';
import FacebookPutRequestBody from 'src/content/docs/apis/identity-providers/_facebook-put-request-body.mdx';
import FacebookResponseBody from 'src/content/docs/apis/identity-providers/_facebook-response-body.mdx';
import GenericUpdateExplanationFragment from 'src/content/docs/apis/_generic-update-explanation-fragment.mdx';
import IdentityProviderLoginRequestBody from 'src/content/docs/apis/identity-providers/_identity-provider-login-request-body.astro';
import IdentityProviderLoginResponseBody from 'src/content/docs/apis/identity-providers/_identity-provider-login-response-body.mdx';
import InlineField from 'src/components/InlineField.astro';
import InlineUIElement from 'src/components/InlineUIElement.astro';
import StandardDeleteResponseCodes from 'src/content/docs/apis/_standard-delete-response-codes.astro';
import StandardGetResponseCodes from 'src/content/docs/apis/_standard-get-response-codes.astro';
import StandardPostResponseCodes from 'src/content/docs/apis/_standard-post-response-codes.astro';
import StandardPutResponseCodes from 'src/content/docs/apis/_standard-put-response-codes.astro';
import TokenStorageNote from 'src/content/docs/apis/identity-providers/_token-storage-note.mdx';
import DeprecatedSince from 'src/components/api/DeprecatedSince.astro';
import XForwardedForHeader from 'src/content/docs/apis/identity-providers/_x-forwarded-for-header.mdx';
import XFusionauthTenantIdHeaderScopedOperationRowOnly from 'src/content/docs/apis/_x-fusionauth-tenant-id-header-scoped-operation-row-only.mdx';

export const idp_display_name = "Facebook";
export const idp_since = 10100;
export const idp_linking_strategy="LinkByEmail";

## Overview

<Aside type="version">
This API has been available since 1.1.0
</Aside>

A Facebook identity provider will use the Facebook OAuth login API. It will provide a <InlineUIElement>Login with Facebook</InlineUIElement> button on FusionAuth's login page that will leverage the Facebook login pop-up dialog. Additionally, each Facebook identity provider will call Facebook's Graph API to load additional details about the user and store them in FusionAuth.

The email address returned by the Facebook Graph API will be used to create or lookup the existing user. Additional claims returned by Facebook can be used to reconcile the User to FusionAuth by using a Facebook Reconcile Lambda. Unless you assign a reconcile lambda to this provider, on the `email` address will be used from the available claims returned by Facebook.

When the `picture` field is not requested FusionAuth will also call Facebook's `/me/picture` API to load the user's profile image and store it as the `imageUrl` in FusionAuth. When the `picture` field is requested, the user's profile image will be returned by the `/me` API and a second request to the `/me/picture` endpoint will not be required.

<TokenStorageNote idp_long_lived_token_type="long-lived" idp_display_name={idp_display_name} idp_linking_strategy={idp_linking_strategy} token_name="long-lived token" return_text="/oauth/access_token (after presenting the login token)" />

Please note if an `idp_hint` is appended to the OAuth Authorize endpoint, then the interaction behavior will be defaulted to `redirect`, even if popup interaction is explicitly configured.

## Create a Facebook Identity Provider

### Request

<API method="POST" uri="/api/identity-provider" authentication={["api-key"]} title="Create a Facebook Identity Provider using a randomly generated Id"/>

<API method="POST" uri="/api/identity-provider/{identityProviderId}" authentication={["api-key"]} title="Create a Facebook Identity Provider with the provided unique Id"/>

The <InlineField>type</InlineField> in the request JSON is used to determine that you are managing a Facebook identity provider.

#### Request Parameters

<APIBlock>
  <APIField name="identityProviderId" type="UUID" optional defaults="secure random UUID" since="1.61.0">
    The Id to use for the new Identity Provider. If an Id is not provided, a secure random UUID is generated. If neither an Id nor <InlineField>identityProvider.name</InlineField> are provided, the legacy fixed Facebook IdP Id `56abdcc7-8bd9-4321-9621-4e9bbebae494` will be used.
  </APIField>
</APIBlock>

<FacebookPostRequestBody idp_since={idp_since}
                         idp_linking_strategy={idp_linking_strategy}
                         idp_display_name={idp_display_name} />

### Response

<StandardPostResponseCodes never_search_error />

<FacebookResponseBody idp_since={idp_since}
                      idp_linking_strategy={idp_linking_strategy}
                      idp_display_name={idp_display_name} />

## Retrieve a Facebook Identity Provider


### Request

<API method="GET" uri="/api/identity-provider/{identityProviderId}" authentication={["api-key"]} title="Retrieve a Facebook Identity Provider by Id"/>

<API method="GET" uri="/api/identity-provider?type=Facebook" authentication={["api-key"]} title="Retrieve Facebook Identity Providers by type"/>

#### Request Parameters

<APIBlock>
  <APIField name="identityProviderId" type="UUID" required>
    The unique Id of the Facebook Identity Provider to retrieve.
  </APIField>
</APIBlock>

### Response

<StandardGetResponseCodes />

<FacebookResponseBody idp_since={idp_since}
                      idp_linking_strategy={idp_linking_strategy}
                      idp_display_name={idp_display_name} />

## Update a Facebook Identity Provider

<GenericUpdateExplanationFragment capitalized_object_name="Facebook Identity Provider" />

### Request

<API method="PUT" uri="/api/identity-provider/{identityProviderId}" authentication={["api-key"]} showPatch={true} title="Update a Facebook Identity Provider by Id"/>

<API method="PUT" uri="/api/identity-provider?type=Facebook" authentication={["api-key"]} showPatch={true} title="Update a Facebook Identity Provider by type (deprecated)"/>

<DeprecatedSince since="1.61.0">Prefer updating by Id. Updating by type attempts to update the Identity Provider with the legacy fixed Id `56abdcc7-8bd9-4321-9621-4e9bbebae494`.</DeprecatedSince>

#### Request Parameters

<APIBlock>
  <APIField name="identityProviderId" type="UUID" required>
    The unique Id of the Facebook Identity Provider to update.
  </APIField>
</APIBlock>

<FacebookPutRequestBody idp_since={idp_since}
                        idp_linking_strategy={idp_linking_strategy}
                        idp_display_name={idp_display_name} />

### Response

The response for this API contains a Facebook Identity Provider.

<StandardPutResponseCodes />

<FacebookResponseBody idp_since={idp_since}
                      idp_linking_strategy={idp_linking_strategy}
                      idp_display_name={idp_display_name} />

## Delete a Facebook Identity Provider

Delete by type or Id. Deleting by type attempts to delete the Identity Provider with the legacy fixed Id `56abdcc7-8bd9-4321-9621-4e9bbebae494`.

### Request

<API method="DELETE" uri="/api/identity-provider/{identityProviderId}" authentication={["api-key"]} title="Delete a Facebook Identity Provider by Id"/>

<API method="DELETE" uri="/api/identity-provider?type=Facebook" authentication={["api-key"]} title="Delete a Facebook Identity Provider by type (deprecated)"/>

<DeprecatedSince since="1.61.0">Prefer deleting by Id. Deleting by type attempts to delete the Identity Provider with the legacy fixed Id `56abdcc7-8bd9-4321-9621-4e9bbebae494`.</DeprecatedSince>

#### Request Parameters

<APIBlock>
  <APIField name="identityProviderId" type="UUID" required>
    The unique Id of the Facebook Identity Provider to delete.
  </APIField>
</APIBlock>

### Response

This API does not return a JSON response body.

<StandardDeleteResponseCodes />

## Complete a Facebook Login

<CompleteLoginText idp_display_name={idp_display_name} token_text_with_article="an access token" token_text="access token" />

### Request

<API method="POST" uri="/api/identity-provider/login" authentication={["none"]} title="Complete Facebook Login"/>

#### Request Headers

<APIBlock>
  <XForwardedForHeader />
  <XFusionauthTenantIdHeaderScopedOperationRowOnly />
</APIBlock>

<IdentityProviderLoginRequestBody idp_display_name={idp_display_name} idp_since={idp_since} />

### Response

The response for this API contains the User object.

<IdentityProviderLoginResponseBody />


import APIField from 'src/components/api/APIField.astro';
import InlineField from 'src/components/InlineField.astro';

<APIField name="identityProvider.linkingStrategy" type="String" optional defaults={props.idp_linking_strategy} since={ props.idp_since < 12800 ? "1.28.0" : '' } renderif={!props.verifies_email}>
  The linking strategy to use when creating the link between the {props.idp_display_name} Identity Provider and the user.

  The possible values are:

    * `CreatePendingLink` - Create pending link.
    * `Disabled` - Disables linking automatically. Available since `1.37.0`.
    * `LinkAnonymously` - Anonymous Link.
    * `LinkByEmail` - Link on email. Create the user if they do not exist.
    * `LinkByEmailForExistingUser` - Link on email. Do not create the user if they do not exist.
    * `LinkByUsername` - Link on username. Create the user if they do not exist.
    * `LinkByUsernameForExistingUser` - Link on username. Do not create the user if they do not exist.

</APIField>
<APIField name="identityProvider.linkingStrategy" type="String" optional defaults={props.idp_linking_strategy} since={ props.idp_since < 12800 ? "1.28.0" : '' } renderif={!!props.verifies_email}>
  The linking strategy to use when creating the link between the {props.idp_display_name} Identity Provider and the user.

  The possible values are:

    * `CreatePendingLink` - Create pending link.
    * `Disabled` - Disables linking automatically. Available since `1.37.0`.
    * `LinkAnonymously` - Anonymous Link.
    * `LinkByEmail` - Link on email. Create the user if they do not exist.
    * `LinkByEmailForExistingUser` - Link on email. Do not create the user if they do not exist.
    * `LinkByUsername` - Link on username. Create the user if they do not exist.
    * `LinkByUsernameForExistingUser` - Link on username. Do not create the user if they do not exist.

  When the <InlineField>identityProvider.linkingStrategy</InlineField> is equal to `LinkByEmail` or `LinkByEmailForExistingUser` and the `email_verified` claim is present on the response from the {props.idp_display_name} Identity Provider and the value is `false` a link will not be established and an error will be returned indicating a link cannot be established using an unverified email address.
</APIField>

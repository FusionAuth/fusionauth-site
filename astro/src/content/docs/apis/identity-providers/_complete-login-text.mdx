import InlineField from 'src/components/InlineField.astro';

This API allows you to complete a {props.idp_display_name} login after authenticating a user using the {props.idp_display_name} API. If you are using the FusionAuth login UI with the {props.idp_display_name} button you will not utilize this API directly.

This API is intended to be used if you want to build your own login page and you have added the {props.idp_display_name} login button to your own login page and you then need to complete the login with FusionAuth.

{props.idp_display_name !== 'HYPR' && <>
<p>For example, if you built your own login page, you could add a "Login with {props.idp_display_name}" button and complete the {props.idp_display_name} authentication. When you complete the {props.idp_display_name} authentication you will have been returned {props.token_text_with_article} from {props.idp_display_name}. Using this API you can pass that {props.token_text} to FusionAuth and we will complete the login workflow and reconcile the user to FusionAuth.</p>

<p>The user does not need to exist yet in FusionAuth to utilize this API, depending on the configured <a href="/docs/lifecycle/authenticate-users/identity-providers/#linking-strategies">linking strategy</a>. The {props.token_text} returned from {props.idp_display_name} will be used to retrieve the user's email address or username and if that user does not yet exist in FusionAuth the user may be created.</p>
</>}

{props.idp_display_name === 'HYPR' && <>
<p>The user must exist in FusionAuth to utilize this API, and you must [Start the HYPR Login Request](#start-the-hypr-login-request) before calling this.</p>
</>}

If <InlineField>createRegistration</InlineField> has been enabled for this identity provider and the user does not yet have a registration for this application, a registration will be automatically created for the user. The user will be assigned any default roles configured for the application.

If <InlineField>createRegistration</InlineField> has not been enabled, a registration will not be created if one does not yet exist. This is useful if you wish to manually provision users and then subsequently allow them to login with {props.idp_display_name}.


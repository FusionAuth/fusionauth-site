import APIBlock from 'src/components/api/APIBlock.astro';
import APIField from 'src/components/api/APIField.astro';
import InlineField from 'src/components/InlineField.astro';
import JSON from 'src/components/JSON.astro';
import FacebookLoginMethodParameter from 'src/content/docs/apis/identity-providers/_facebook-login-method-parameter.mdx';
import IdentityProviderLinkingStrategyResponseParameter from 'src/content/docs/apis/identity-providers/_identity-provider-linking-strategy-response-parameter.mdx';
import IdentityProviderTenantConfiguration from 'src/content/docs/apis/identity-providers/_identity-provider-tenant-configuration.mdx';

#### Response Body

<APIBlock>
  <APIField name="identityProvider.appId" type="String">
    The top-level Facebook `appId` for your Application. This value is retrieved from the Facebook developer website when you setup your Facebook developer account.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration">
    The configuration for each Application that the identity provider is enabled for.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].appId" type="String">
    This is an optional Application specific override for the top level <InlineField>appId</InlineField>.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].buttonText" type="String">
    This is an optional Application specific override for the top level <InlineField>buttonText</InlineField>.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].client_secret" type="String">
    This is an optional Application specific override for the top level <InlineField>client_secret</InlineField>.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].createRegistration" type="Boolean">
    Determines if a UserRegistration is created for the User automatically or not. If a user doesn't exist in FusionAuth and logs in through an identity provider, this boolean controls whether or not FusionAuth creates a registration for the User in the Application they are logging into.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].enabled" type="Boolean">
    Determines if this identity provider is enabled for the Application specified by the `applicationId` key.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].fields" type="String">
    This is an optional Application specific override for the top level <InlineField>fields</InlineField>.
  </APIField>
  <APIField name="identityProvider.applicationConfiguration[applicationId].permissions" type="String">
    This is an optional Application specific override for the top level <InlineField>permissions</InlineField>.
  </APIField>
  <APIField name="identityProvider.buttonText" type="String">
    The top-level button text to use on the FusionAuth login page for this Identity Provider.
  </APIField>
  <APIField name="identityProvider.client_secret" type="String">
    The top-level client secret to use with the Facebook Identity Provider when retrieving the long-lived token. This value is retrieved from the Facebook developer website when you setup your Facebook developer account.
  </APIField>
  <APIField name="identityProvider.debug" type="Boolean" since="1.7.3">
    Determines if debug is enabled for this provider. When enabled, each time this provider is invoked to reconcile a login an Event Log will be created.
  </APIField>
  <APIField name="identityProvider.enabled" type="Boolean">
    Determines if this provider is enabled. If it is false then it will be disabled globally.
  </APIField>
  <APIField name="identityProvider.fields" type="String">
    The top-level fields that you are requesting from Facebook.
  </APIField>
  <APIField name="identityProvider.id" type="UUID">
    The Id of the provider.
  </APIField>
  <APIField name="identityProvider.insertInstant" type="Long">
    The [instant](/docs/reference/data-types#instants) that the provider was added to the FusionAuth database.
  </APIField>
  <APIField name="identityProvider.lastUpdateInstant" type="Long">
    The [instant](/docs/reference/data-types#instants) that the provider was updated in the FusionAuth database.
  </APIField>
  <APIField name="identityProvider.lambdaConfiguration.reconcileId" type="UUID" since="1.17.0">
    The unique Id of the lambda to used during the user reconcile process to map custom claims from the external identity provider to the FusionAuth user.
  </APIField>

  <IdentityProviderLinkingStrategyResponseParameter idp_display_name={props.idp_display_name}
                                                    idp_since={props.idp_since}
                                                    idp_linking_strategy={props.idp_linking_strategy} />

  <FacebookLoginMethodParameter idp_since={props.idp_since}
                                idp_display_name={props.idp_display_name} />

  <APIField name="identityProvider.name" type="String">
    The name of this Facebook identity provider. This is only used for display purposes.
  </APIField>
  <APIField name="identityProvider.permissions" type="String">
    The top-level permissions that your application is asking of the user's Facebook account.
  </APIField>

  <IdentityProviderTenantConfiguration idp_since={props.idp_since}/>

  <APIField name="identityProvider.tenantId" type="UUID" since="1.62.0">
    The unique Id of the Tenant. This value is present if the identity provider is tenant-scoped. Tenant-scoped identity providers can only be used to authenticate in the context of the specified tenant. This value is read-only once the key is created.
  </APIField>
  <APIField name="identityProvider.type" type="String">
    The type of this provider, this field will always be set to `Facebook`.
  </APIField>
</APIBlock>

<JSON title="Example Facebook Response JSON" src="identity-providers/facebook-response.json" />

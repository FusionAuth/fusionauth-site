---
title: Air-Gapping 
description: Running FusionAuth air-gapped.
section: get started
subcategory: download and install
---
import Aside from 'src/components/Aside.astro';
import Breadcrumb from 'src/components/Breadcrumb.astro';
import DeactivateLicense from 'src/content/docs/_shared/_deactivate-license.mdx';
import HostsToAllowNetworkAccessFor from 'src/content/docs/_shared/_hosts-to-allow-network-access.mdx';
import InlineField from 'src/components/InlineField.astro';
import InlineUIElement from 'src/components/InlineUIElement.astro';

## Overview

Air-gapping allows you to run FusionAuth in environments with custom networking or compliance requirements.

These include:

* high-security environments with extreme exfiltration risks
* industrial control systems with limited networking bandwidth
* malware analysis
* regulatory or compliance requirements such as PCI-DSS

This document discusses air-gapped licenses. Documentation about [regular licenses](/docs/get-started/core-concepts/licensing) is available as well.

## Adding Your License to Your Instance

To run air-gapped and access paid features, purchase a license by [contacting the sales team](/contact). While other licenses are available on the [pricing page](/pricing), an air-gapped license requires a conversation with our sales team.

Once a license is purchased, activate it.  To do so, log into your [Account](https://account.fusionauth.io/account).  Navigate to the <Breadcrumb>Plan</Breadcrumb> tab.

![View the plan tab.](/img/docs/get-started/core-concepts/plan-tab.png)

Copy the appropriate license key and text.

Use the "Production" license for your production server. The other license is suitable for non-production environments, such as user acceptance testing or development.

<Aside type="note">
  You can always find your license key and text by logging in to your [Account](https://account.fusionauth.io/account) and then navigating to the <Breadcrumb>Plan</Breadcrumb> tab.
</Aside>

After you have your license key and text, log in to your FusionAuth instance. The credentials you use to log into the instance have no connection to the credentials you used to log into your account portal.

<Aside type="note">
You will need either the `admin` or `reactor_manager` roles in the FusionAuth application to view the <Breadcrumb>Reactor</Breadcrumb> tab.
</Aside>

Navigate to the <Breadcrumb>Reactor</Breadcrumb> tab and enter your license key and text in the <InlineField>License key</InlineField> field.

Check the <InlineField>I have an air-gapped license</InlineField> box and include this value in the <InlineField>License text</InlineField> field in addition to filling out the <InlineField>License key</InlineField> when activating.

![Activate your license using Reactor.](/img/docs/get-started/download-and-install/air-gapped-license-activate.png)

Immediately after activating, FusionAuth validates the license. It may take a minute or two to complete activation. No network access is required for activation.

Once that has happened, the <InlineField>Licensed</InlineField> field will change to a green checkmark.  This may require a page refresh. You will also see a list of premium features and the expiration date of the license. Depending on your particular plan, some features may not be active. You can see a list of features on the [premium features page](/docs/get-started/core-concepts/premium-features).

![An activated license.](/img/docs/get-started/download-and-install/air-gapped-license.png)

## Regenerating Your License

You may want to regenerate your license for any number of reasons.

* The process may be part of a regular secrets rotation plan.
* You may have inadvertently exposed your license.
* A personnel change may require rotation of licenses.

You can do so using the [Reactor API](/docs/apis/reactor). You can also regenerate the license via the <Breadcrumb>Plan</Breadcrumb> tab. To do so, log into your [Account](https://account.fusionauth.io/account). Then navigate to the <Breadcrumb>Plan</Breadcrumb> tab. Then click the <InlineUIElement>Action</InlineUIElement> button to display the dropdown.

![The license action dropdown.](/img/docs/get-started/core-concepts/license-action-dropdown.png)

After you choose which license to regenerate, you'll be prompted to confirm your choice.

![Regenerate the license.](/img/docs/get-started/core-concepts/regenerate-license.png)

Then, view your license to retrieve both the license key and text.

## Deactivating Your Instance

<DeactivateLicense />

## License Expiration

An air-gapped license *expires*. Please [contact support](https://account.fusionauth.io/account/support/) to renew your new air-gapped license. 

Then update your license using one of the methods above before your license expiration date.

<Aside type="caution">
  When your license expires, functionality will be degraded, just as if you [deactivated your license](#deactivating-your-license).
</Aside>

You can find out when the license expires by using the [Reactor API](/docs/apis/reactor#retrieve-reactor-status) or viewing the expiration date in the admin UI on the Reactor tab.

![An expiration date displayed on the Reactor status page.](/img/docs/get-started/download-and-install/air-gapped-license-expiration.png)

## Licensing and Kickstart

You can set your license, including key and text, using Kickstart. Doing so allows you to use features requiring a license in your development environment and continuous integration systems.  You should use the non-production license key and text in your Kickstart files.

Learn more about [setting up Kickstart](/docs/get-started/download-and-install/development/kickstart).

## Limits

Running air-gapped limits certain features in FusionAuth, including:

* breached password detection 
* advanced threat detection

Both of these features depend on downloading data over a network.

An air-gapped license is designed to work in an air-gapped environment, but FusionAuth still makes outbound requests. You must implement network controls to such block outbound requests.

Here's the list of hostnames to block:

<HostsToAllowNetworkAccessFor />

You should also [disable usage data collection](/docs/get-started/download-and-install/collected-metrics#disabling-data-collection).


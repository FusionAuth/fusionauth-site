---
---
import Aside from 'src/components/Aside.astro';
import InlineField from 'src/components/InlineField.astro';

<Aside type="version">Available in FusionAuth 1.56.0</Aside>

In certain scenarios you may have authenticated a user outside of the typical OAuth flow. If so, you can still acquire an SSO session from FusionAuth as long as you have a valid access token for the user.

To enable this feature perform these one-time setup steps:

* Enable the access token bootstrap setting on the tenant. There are two ways to do this. Use the [Admin UI](/docs/get-started/core-concepts/tenants#oauth) or set the <InlineField>tenant.ssoConfiguration.allowAccessTokenBootstrap</InlineField> field to `true` in the [Tenant API](/docs/apis/tenants).
* Configure a reverse proxy to add the required `Authorization` header.

Configuring a reverse proxy will vary, and is out of scope. One common scenario would assume you have an HTTP only secure cookie that holds the user's access token. In this example, the reverse proxy copies the value of that cookie into the `Authorization` header as it passes through.

![Advanced SSO settings with allow access token bootstrap.](/img/docs/lifecycle/authenticate-users/oauth-access-token-bootstrap.png)

Follow these steps to setup the request to bootstrap the SSO session for a user:

* Build a normal Authorize request that redirects to the [OAuth Authorize](/docs/lifecycle/authenticate-users/oauth/endpoints#authorize) endpoint. The host and path may very based upon your proxy configuration, but the query parameters are the same as a normal request to this endpoint.
* Intercept the request and add the access token to the `Authorization` header using the `Bearer` scheme.
* Forward the request to the FusionAuth Authorize endpoint `/oauth2/authorize`.

The following is an example Authorization header using the Bearer scheme:

```
Authorization: Bearer <access token>
```

If the token is valid, FusionAuth creates an SSO session and completes the requested grant by redirecting to the authorized redirect specified by the `redirect_uri` request parameter. Any other OAuth2 parameter validation is the same as a normal request.

Note that FusionAuth adds the `auth_time` claim to the access token. If you remove this claim from the access token it cannot be used to bootstrap a SSO session.

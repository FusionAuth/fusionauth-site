---
title: SAML v2 & Tableau Cloud
description: Setting up Tableau Cloud to allow users to log in using FusionAuth via SAML v2.
navcategory: login-methods
section: lifecycle
subcategory: authenticate users
tertcategory: integrations
quatercategory: saml
---
import Breadcrumb from 'src/components/Breadcrumb.astro';
import InlineUIElement from 'src/components/InlineUIElement.astro';
import InlineField from 'src/components/InlineField.astro';
import Icon from 'src/components/icon/Icon.astro';
import Aside from 'src/components/Aside.astro';

## Overview

[Tableau](https://www.tableau.com/) is one of the most advanced data visualization tools used for business intelligence and data analysis. This document covers the configuration necessary to get Tableau Cloud working with FusionAuth as the identity provider using SAML v2, allowing users to log in to your Tableau Cloud account using their FusionAuth credentials.

### Prerequisites

This document assumes you have a running instance of FusionAuth and a working Tableau Cloud application. You will also need admin accounts for both to configure them correctly.

Finally, you'll need a FusionAuth user that you will use to sign into Tableau. You can use an existing user or create a new user for this purpose.

## Configuring CORS in FusionAuth

Before configuring SAML for Tableau, make sure the SSO Tableau origin is allowed for requests. In your FusionAuth dashboard, navigate to <Breadcrumb>Settings -> System -> CORS</Breadcrumb> and add the following origin: https://sso.online.tableau.com.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/cors-config.png" alt="CORS configuration for Tableau Cloud." width="1200" />

Under <InlineField>Allowed methods</InlineField>, enable both the <InlineUIElement>GET</InlineUIElement> and <InlineUIElement>POST</InlineUIElement> methods. Then save the changes.

## Creating a FusionAuth application with Placeholder Values

Now, log in to your FusionAuth instance to create a new application. In your FusionAuth dashboard, navigate to <Breadcrumb>Applications</Breadcrumb> in the sidebar, then click the **âž•** button in the top right and give it a meaningful name such as `Tableau`. Select the tenant you want to use from the <InlineField>Tenant</InlineField> dropdown.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/application-config.png" alt="Create an Application." width="1200" />

Before saving the application, go to the <Breadcrumb>SAML</Breadcrumb> tab and toggle the <InlineField>Enabled</InlineField> switch.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/application-config-2.png" alt="Configure SAML settings." width="1200" />

Enter dummy values for the <InlineField>Issuer</InlineField> and the <InlineField>Authorized redirect URLs</InlineField>.

- Issuer: `https://placeholder.example.com`
- Authorized redirect URLs: `https://placeholder.example.com/acs`

Then save the application.

### Download the FusionAuth SAML Metadata

After saving, you'll be taken back to the Applications listing page. To view the application details, click the view icon (magnifying glass) in the action buttons for your Tableau application. Find the Metadata URL in the <InlineUIElement>SAML v2 Integration details</InlineUIElement> section.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/metadata-url.png" alt="SAML metadata URL location." width="1200" />

<Aside type="caution">
**Important XML Formatting Issue**: The metadata downloaded from FusionAuth contains `ns2:` namespace prefixes that will cause a 500 error in Tableau. You must remove all `ns2:` prefixes from the XML before uploading to Tableau.
</Aside>

Open the URL in your browser, and you will see XML code configuration for the Metadata. Copy the code into a file called `metadata.xml` and edit the file to remove the `ns2:` prefixes to make it valid for Tableau.

The downloaded XML will look like this:

```xml
<ns2:EntityDescriptor xmlns:ns2="urn:oasis:names:tc:SAML:2.0:metadata" ...>
  <ns2:IDPSSODescriptor ...>
    <ns2:SingleSignOnService ...>
```

You need to change it to:

```xml
<EntityDescriptor xmlns="urn:oasis:names:tc:SAML:2.0:metadata"
                  xmlns:ds="http://www.w3.org/2000/09/xmldsig#" ...>
  <IDPSSODescriptor ...>
    <SingleSignOnService ...>
``` 

## Enabling SAML for Tableau

In your Tableau Cloud dashboard, navigate to <Breadcrumb>Settings -> Authentication</Breadcrumb>. Click on the  <InlineUIElement>New configuration</InlineUIElement> button and select <InlineUIElement>SAML</InlineUIElement>.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/tableau-saml-config.png" alt="Tableau SAML configuration screen." width="1200" />

Enter a name for the configuration (FusionAuth is fine) and upload the metadata file to Tableau. The <InlineField>Tableau Cloud entity ID</InlineField> and the IdP SSO service URL fields should automatically populate.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/tableau-entity-id.png" alt="Tableau entity ID auto-populated." width="1200" />

### Map the fields

In <InlineUIElement>Match attributes</InlineUIElement>, map email, first and last name fields like shown in the image below and click <InlineUIElement>Apply</InlineUIElement>.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/tableau-attribute-mapping.png" alt="Tableau attribute mapping configuration." width="1200" />

Save the changes and the configuration should be created now. Copy both <InlineField>Tableau Cloud entity ID</InlineField> and <InlineField>Assertion Consumer Service URL (ACS)</InlineField> from <InlineUIElement>Export metadata from Tableau Cloud</InlineUIElement> and write them down. You'll use them shortly.

## Updating FusionAuth with Real Tableau URLs

Go back to FusionAuth to edit the SAML configuration of the application you are using for authentication with Tableau. In the SAML tab, replace placeholder values with real ones from Tableau:

- Issuer: with the Tableau Cloud entity ID you copied
- Authorized redirect URLs: with the ACS URL you copied
- Logout URL: your FusionAuth application logout URL

<Aside type="note">
**Critical**: You must add BOTH versions of the ACS URL (with and without trailing slash). Tableau may send requests with or without the trailing slash, and FusionAuth will reject the request if the exact URL doesn't match.

Example:
- `https://sso.online.tableau.com/public/sp/SSO/d3046906-4c8e-4bb0-a08d-420be0ff4897/f686d9ca-dead-4940-8f02-814ff68cd6f8`
- `https://sso.online.tableau.com/public/sp/SSO/d3046906-4c8e-4bb0-a08d-420be0ff4897/f686d9ca-dead-4940-8f02-814ff68cd6f8/`
</Aside>

_Mapping fields_

| Tableau                                                         | FusionAuth                                          |
|-----------------------------------------------------------------|-----------------------------------------------------|
| <InlineField>Tableau Cloud entity ID</InlineField>              | <InlineField>Issuer</InlineField>                   |
| <InlineField>Assertion Consumer Service URL (ACS)</InlineField> | <InlineField>Authorized redirect URLs</InlineField> |

Click <Icon name="save"/> to save your application. Then, download the updated FusionAuth metadata again (from the view page of your application under SAML v2 Integration details) and re-upload it to Tableau. To re-upload in Tableau, go to <Breadcrumb>Settings -> Authentication</Breadcrumb>, edit your SAML configuration, and upload the new metadata file to replace the old one.

### Test the connection

Click <InlineUIElement>Test Connection</InlineUIElement> to open a modal with the FusionAuth login screen. Fill in your credentials and submit the form. You should see a <InlineUIElement>Successfully connected to server</InlineUIElement> message below that button.

## Add a New User

In your Tableau Cloud account, navigate to <Breadcrumb>Users</Breadcrumb> in the sidebar. Click the <InlineUIElement>Add Users</InlineUIElement> dropdown and select <InlineUIElement>Add Users by Username</InlineUIElement>. Tableau supports SCIM for automated provisioning, as does FusionAuth, but that is beyond the scope of this document. You must provide the same email addresses they use to log in to your FusionAuth instance.

After doing so, they should receive an email with a link to the login page. When browsing to that page, they should enter their email address.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/adding-user.png" alt="Adding a user via email address." width="1200" />

They'll be redirected to the FusionAuth login screen when they click <InlineUIElement>Sign in</InlineUIElement>. There, they should fill in the credentials for their FusionAuth account. After they authenticate successfully, they will be sent to the Tableau Cloud dashboard.

<img src="/img/docs/lifecycle/authenticate-users/integrations/saml/tableau-dashboard.png" alt="Tableau dashboard." width="1200" />

## Troubleshooting

Make sure you paste the right information from <InlineField>Tableau Cloud entity ID</InlineField> and <InlineField>Assertion Consumer Service URL (ACS)</InlineField> fields into your FusionAuth application.

### Common Errors

**500 Error when uploading metadata to Tableau**

The XML has namespace issues. Remove all `ns2:` prefixes from the metadata XML file and add proper `xmlns` declarations as shown in the XML example above.

**"Remote IdP entity descriptor is not configured" error**

The URLs in FusionAuth don't match what Tableau is sending. Double-check that the Entity ID (Issuer) and ACS URL in FusionAuth are exact matches to what Tableau provides.

**"Invalid AssertionConsumerServiceURL" error**

Add both versions of the ACS URL (with and without trailing slash) to the Authorized redirect URLs in FusionAuth, as Tableau may send requests either way.

### Additional Debugging

You can also browse to <Breadcrumb>Settings -> Authentication</Breadcrumb> in your Tableau Cloud dashboard and click <InlineUIElement>Download log file</InlineUIElement> in <InlineUIElement>Troubleshooting single sign-on (SSO)</InlineUIElement> to further investigate.

Finally, you can edit your FusionAuth application, go to the <Breadcrumb>SAML</Breadcrumb> tab and click <InlineUIElement>Debug enabled</InlineUIElement> to create an event log with more information. To see these logs, browse to <Breadcrumb>System -> Event Log</Breadcrumb>.

You can also review the [Tableau Cloud SSO docs](https://help.tableau.com/current/online/en-us/saml_config_site.htm).


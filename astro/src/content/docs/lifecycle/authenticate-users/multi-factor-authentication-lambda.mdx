---
title: Multi-Factor Authentication Lambda
description: Learn about how to use multi-factor authentication lambdas in FusionAuth as a developer.
navcategory: developer
section: lifecycle
subcategory: authenticate users
tags: auth as a service
---
import InlineField from 'src/components/InlineField.astro';
import PremiumPlanBlurb from 'src/content/docs/_shared/_premium-plan-blurb.astro';
import EnterprisePlanBlurb from 'src/content/docs/_shared/_enterprise-plan-blurb.astro';
import MfaDecisionTree from 'src/diagrams/docs/lifecycle/authenticate-users/mfa-decision-tree.astro';
import TenantMfaDecisionTree from 'src/diagrams/docs/lifecycle/authenticate-users/tenant-mfa-decision-tree.astro';
import ApplicationMfaDecisionTree from 'src/diagrams/docs/lifecycle/authenticate-users/app-mfa-decision-tree.astro';

## Overview
Explain how MFA Lambdas can be used to customize multi-factor authentication (MFA) behavior in FusionAuth.

Below is from the TDD document:

FusionAuth currently provides contextual MFA with built-in checks for device trust and suspicious login detection. However, these contextual checks are limited to what FusionAuth defines. Customers frequently need custom MFA logic based on their specific business rules, external security signals, and organizational policies that FusionAuth cannot anticipate.

The MFA Lambda feature enables customers to programmatically control MFA enforcement by writing a JavaScript function that runs at key decision points during authentication flows. The lambda receives comprehensive context about the login attempt (user, groups, IP, location, device trust, etc.) and returns instructions to FusionAuth (require MFA, send suspicious login event). Lambdas can also call external APIs to integrate with threat intelligence platforms, SIEM systems, device management platforms, and other security infrastructure.

## Creating an MFA requirement Lambda
Under Customization > Lambdas, create a new Lambda of type "MFA requirement lambda". Write your JavaScript function to implement your custom MFA logic. The function should return an object indicating whether MFA is required for the current login attempt.

## Tenant Level
Once a MFA requirement lambda has been created it can be confgured at the tenant level under the Multi-Factor tab and choosing a "MFA Requirement Lambda" under the policies section.

## Application Level
Once a MFA requirement lambda has been created it can be confgured at the tenant level under the Multi-Factor tab and choosing a "MFA Requirement Lambda" under the policies section.

## Licensing
Enterprise licenses are required to use MFA Lambdas.

Tenant
Requires Advanced Multi-Factor Authentication with Lambda capability.

Application
Requires Advanced Multi-Factor Authentication with Application Configuration and Lambda capabilities.

## Using MFA Lambda via API
The MFA status can be retrieved via calls to /api/two-factor/status.  The endpoint supports both GET and POST methods.  The POST method allows for additional contextual information(EventInfo) to be provided in the request body to be used by the Lambda.
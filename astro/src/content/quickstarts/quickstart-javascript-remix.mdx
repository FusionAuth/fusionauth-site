---
title: Remix
description: Quickstart integration of Javascript Remix web application with FusionAuth
navcategory: getting-started
prerequisites: Node.js version 18
section: web
technology: Remix
language: Javascript
icon: /img/icons/javascript.svg
faIcon: fa-node-js
color: green
cta: EmailListCTA
---

#####################

docker-compose up
npm run dev
change file to cookie - https://remix.run/docs/en/main/utils/sessions





#####################

import Aside from '/src/components/Aside.astro';
import LoginAfter from '../../diagrams/quickstarts/login-after.astro';
import LoginBefore from '../../diagrams/quickstarts/login-before.astro';
import RemoteCode from '/src/components/RemoteCode.astro';

In this quickstart, you will build an application with Remix and integrate it with FusionAuth. The application is for [ChangeBank](https://www.youtube.com/watch?v=pkH-kD73QUM), a global leader in converting dollars into coins. It will have areas reserved for logged-in users and public-facing sections.

Find the Docker Compose file and source code for the complete application at https://github.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web.

## Prerequisites

For this Quickstart, you'll need:
* [Node 18](https://nodejs.org/en/download) or later.
* [Docker](https://www.docker.com), which is the quickest way to start FusionAuth. (There are [other ways](https://fusionauth.io/docs/v1/tech/installation-guide/)).

## General Architecture

While this sample application doesn't have login functionality without FusionAuth, a more typical integration will replace an existing login system with FusionAuth.

In that case, the system might look like this before FusionAuth is introduced.

<LoginBefore alt={"Request flow during login before FusionAuth"}/>

The login flow will look like this after FusionAuth is introduced.

<LoginAfter alt={"Request flow during login after FusionAuth"}/>

In general, you would introduce FusionAuth to normalize and consolidate user data, making it consistent and up-to-date and offloading your login security and functionality to FusionAuth.

## Getting Started

Start with getting FusionAuth up and running and creating a new Django application.

### Clone the Code

First, grab the code from the repository and change into that directory.

```
git clone https://github.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web.git
cd fusionauth-quickstart-python-django-web
```

### Run FusionAuth via Docker

You'll find a Docker Compose file `docker-compose.yml` and an environment variables configuration file `.env` in the root directory of the repo.

Assuming you have Docker installed on your machine, you can start FusionAuth on your machine with the following.

```
docker-compose up -d
```

This will start three containers, one each for FusionAuth, Postgres, and Elastic.

Here you are using a bootstrapping feature of FusionAuth, called [Kickstart](https://fusionauth.io/docs/v1/tech/installation-guide/kickstart). When FusionAuth starts for the first time, it will look at the `kickstart/kickstart.json` file and configure FusionAuth to your specified state.

<Aside type="note">
If you ever want to reset the FusionAuth system, delete the volumes created by `docker-compose` by executing `docker-compose down -v`, then rerun `docker- compose up -d`.
</Aside>

FusionAuth will be configured with these settings:
* Your client Id is `e9fdb985-9173-4e01-9d73-ac2d60d1dc8e`.
* Your client secret is `super-secret-secret-that-should-be-regenerated-for-production`.
* Your example username is `richard@example.com` and the password is `password`.
* Your admin username is `admin@example.com` and the password is `password`.
* The base URL of FusionAuth is `http://localhost:9011/`.

You can log in to the [FusionAuth admin UI](http://localhost:9011/admin) and look around if you want to, but with Docker and Kickstart, you don't need to.

### Create a Basic Django Application

Next, you'll set up a basic Django project with a single app. While this guide builds a new Django project, you can use the same method to integrate your existing project with FusionAuth.

#### Set Up Your Environment

We recommend working in a virtual environment for this.

```shell
python3 -m venv venv && source venv/bin/activate
```

Now create a `requirements.txt` file to list the project dependencies. (All the files in this guide already exist in the `complete-application` folder if you want to copy them.)

`requirements.txt`
<RemoteCode url="https://raw.githubusercontent.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web/main/complete-application/requirements.txt"
 lang="shell" />

Then install the dependencies into your virtual environment.

```shell
pip install -r requirements.txt
```

#### Create the Application

Create the default Django starter project.

```shell
django-admin startproject mysite
```

Now create the `.env` file in your `mysite` folder and add the following to it (note that this is a different environment file to the one in the root folder used by Docker for FusionAuth).

`.env`
<RemoteCode url="https://raw.githubusercontent.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web/main/complete-application/mysite/.env"
 lang="shell" />

Start your server.

```shell
python mysite/manage.py runserver
```

You can [visit the server](http://localhost:8000/) to ensure it is running, although it will not have content yet. If you need to stop it, hit control-C. You can leave the server running while you build your application so that you can see your progress.

## Authentication

Open a new terminal. It is easier to run commands from within your `mysite` directory, so `cd` into it.

```shell
source venv/bin/activate;
cd mysite
```

Create an app within your `mysite` project. Make a `templates` directory to hold the HTML views and a `static` directory to hold the CSS files.

```shell
python manage.py startapp app;
mkdir app/templates;
mkdir app/static
```

Now you will work from the top down to set up authentication URLs in the project `settings.py`, then in the application `urls.py`, then the `views.py`, and finally, the HTML templates for the views.


### Project Settings

Overwrite your `mysite/settings.py` contents with the following code.

`settings.py`
<RemoteCode url="https://raw.githubusercontent.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web/main/complete-application/mysite/mysite/settings.py" lang="python" />

Here, your `app` and `mozilla_django_oidc` are added to the list of `INSTALLED_APPS`. The authentication library from Mozilla is set up by `mozilla_django_oidc` and the `OIDC_OP_` constants imported from the `.env` file. This automatically handles the interaction with FusionAuth on the endpoints configured in this file and the matching ones configured in the `kickstart.json` file that you used to initialize FusionAuth.

### Project URLs

Overwrite the `mysite/urls.py` file with the following code.

`urls.py`
<RemoteCode url="https://raw.githubusercontent.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web/main/complete-application/mysite/mysite/urls.py"
 lang="python" />

 * The `admin` site is the default Django admin.
 * The `app` URLs are for the app you created in your project.
 * The `oidc` URLs are automatically generated from the settings you configured in the previous step.

### App URLs

From this point, you'll work in the `app` not in the main project.

Create an `app/urls.py` file and set its content to match the project URLs.

`urls.py`
<RemoteCode url="https://raw.githubusercontent.com/FusionAuth/fusionauth-quickstart-javascript-remix-web/main/complete-application/mysite/app/urls.py"
 lang="python" />

### App Views

Now overwrite the `app/views.py` file. There are three pages: the home page, the account page, and the make change page.

`views.py`
<RemoteCode url="https://raw.githubusercontent.com/RichardJECooke/fusionauth-quickstart-javascript-remix-web/main/complete-application/mysite/app/views.py"
 lang="python" />

Here's what these files do:

* The `app` view, or home page, redirects the user to the `account` view if they are already logged in.
* The `account` view checks whether the user is logged in. If the user is logged in, it returns the account page template, passing in the user's email address returned from FusionAuth. If the user isn't logged in, they are redirected to the login page. This also happens in the change page.
* The `logout` view is necessary because you need to clear the session for the user in Django after the user logs out of FusionAuth. FusionAuth sends the user to this view after logging them out, which then returns them to the home page.
* The `change` view looks longer only because it demonstrates how to do some calculations if the request is a POST instead of a GET. These calculations are then passed to the template in the `change` variable to display onscreen.

## Customization

The final step is to create the HTML pages and style them with CSS.

* Copy the `static` folder with its contents from `complete-application/mysite/app/static` to your `/mysite/app/static` location.
* Copy the `templates` folder with its contents from `complete-application/mysite/app/templates` to your `/mysite/app/templates` location.

There are only two lines in these templates related to authentication. In the home template, there is a login button.

```html
<a class="button-lg" href="{% url 'oidc_authentication_init' %}">Login</a>
```
This URL is made available by the Mozilla plugin in the settings file. It directs the user to FusionAuth to log in, which then redirects back to your app account page.

In the account and change pages, there is a logout form.

```html
<form id="logoutForm" class="button-lg"  action="{% url 'oidc_logout' %}" method="post">
  {% csrf_token %}
  <a class="button-lg" href="#" onclick="document.getElementById('logoutForm').submit();">Log out</a>
</form>
```
Log out has to be a form that submits a POST request to FusionAuth. Here we use an anchor element that is easy to style, but if your users might disable JavaScript, you could use a traditional form `input` element.

## Run the Application

Update the default SQLite database before testing.

```bash
python manage.py migrate
```

You can now browse to [the Django app](http://localhost:8000/app).

If the app is not running, you can use the following command.

```bash
source venv/bin/activate && python mysite/manage.py runserver
```

Log in using `richard@example.com` and `password`. The change page will allow you to enter a number and see the result of the POST. Log out and verify that you can't browse to the [account page](http://localhost:8000/app/account) while logged out.

## Next Steps

This quickstart is a great way to get a proof of concept up and running quickly, but to run your application in production, there are some things you're going to want to do.

### FusionAuth Customization

FusionAuth gives you the ability to customize just about everything to do with the user's experience and the integration of your application. This includes:
* [Hosted pages](https://fusionauth.io/docs/v1/tech/themes/) such as login, registration, email verification, and many more.
* [Email templates](https://fusionauth.io/docs/v1/tech/email-templates/email-templates).
* [User data and custom claims in access token JWTs](https://fusionauth.io/articles/tokens/jwt-components-explained).

### Security

* You may want to customize the [token expiration times and policies](https://fusionauth.io/docs/v1/tech/oauth/#configure-application-oauth-settings) in FusionAuth.
* Choose [password rules](https://fusionauth.io/docs/v1/tech/core-concepts/tenants#password) and a [hashing algorithm](https://fusionauth.io/docs/v1/tech/reference/password-hashes) that meet your security needs.

### Tenant and Application Management

* Model your application topology using [Applications](https://fusionauth.io/docs/v1/tech/core-concepts/applications), [Roles](https://fusionauth.io/docs/v1/tech/core-concepts/roles), [Groups](https://fusionauth.io/docs/v1/tech/core-concepts/groups), [Entities](https://fusionauth.io/docs/v1/tech/core-concepts/groups), and more.
* Set up [MFA](https://fusionauth.io/docs/v1/tech/guides/multi-factor-authentication), [Social login](https://fusionauth.io/docs/v1/tech/identity-providers/), or [SAML](https://fusionauth.io/docs/v1/tech/identity-providers/samlv2/) integrations.
* Integrate with external systems using [Webhooks](https://fusionauth.io/docs/v1/tech/events-webhooks/), [SCIM](https://fusionauth.io/docs/v1/tech/core-concepts/scim), and [Lambdas](https://fusionauth.io/docs/v1/tech/lambdas/).

todo
- don't commit .env
- tatenda replace richardjecooke with fusionauth
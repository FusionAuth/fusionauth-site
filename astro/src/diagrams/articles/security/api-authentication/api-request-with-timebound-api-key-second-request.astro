---
import Diagram from "../../../../components/mermaid/SequenceDiagram.astro";
const { alt } = Astro.props;

//language=Mermaid
const diagram = `
sequenceDiagram

actor User as User/Client
participant API as API Server
participant CA as Central Authority

Note right of User : ... Time passes ...
User ->> API : Get todos<br/>Authorization: emORxy...
API ->> API : Hashes API key
API ->> CA : Is key valid?
CA ->> CA : Checks timestamp, key has expired
CA ->> API : No
API ->> User : Error code, get new API key
Note right of User : ... Authenticate as before ...
`;
---
<Diagram code={diagram} alt={alt}/>

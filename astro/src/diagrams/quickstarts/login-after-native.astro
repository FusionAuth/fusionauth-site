---
import Diagram from "../../components/mermaid/SequenceDiagram.astro";
const { alt = "Request flow during login after FusionAuth" } = Astro.props;

//language=Mermaid
const diagram = `
sequenceDiagram
    participant User
    participant App as Mobile Application
    participant FusionAuth
    participant API as API Server

    User ->> App : View Homescreen
    User ->> App : Click Login Button (to FusionAuth)
    User ->> FusionAuth : View Login Form
    FusionAuth ->> User : Show Login Form
    User ->> FusionAuth : Fill Out and Submit Login Form
    FusionAuth ->> FusionAuth : Authenticates User
    FusionAuth ->> User: Go to Redirect URI
    User ->> App: Request the Redirect URI
    App ->> FusionAuth : Is User Authenticated?
    FusionAuth ->> App : User is Authenticated
    App ->> API : Retrieve User Data 
    API ->> App : Return User Data
    App ->> User : Display User's Account or Other Info`;
---
<Diagram code={diagram} alt={alt}/>

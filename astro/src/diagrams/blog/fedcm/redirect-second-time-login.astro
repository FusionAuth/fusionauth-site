---
import Diagram from "../../../components/mermaid/SequenceDiagram.astro";
const { alt } = Astro.props;

//language=Mermaid
const diagram = `
sequenceDiagram
    participant Browser
    participant WebApp as Relying Party
    participant AuthProvider as IDP 
    
    Browser->>WebApp: 1. Navigate to protected resource
    WebApp->>Browser: 2. Redirect to login page
    Browser->>WebApp: 3. User clicks "Login" button
    WebApp->>Browser: 4. Redirect to Auth Provider
    Browser->>AuthProvider: 5. Load authentication page, including cookies
    AuthProvider->>AuthProvider: 6. Validates cookies 
    AuthProvider->>Browser: 7. Redirect with authentication success 
    WebApp->>WebApp: 8. Create user session
        WebApp->>Browser: 9. Redirect to protected resource
        Browser->>WebApp: 10. Access protected resource
        WebApp->>Browser: 11. Return protected content
`;
---
<Diagram code={diagram} alt={alt} />


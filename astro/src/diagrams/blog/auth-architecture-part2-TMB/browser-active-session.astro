---
import Diagram from "../../../components/mermaid/SequenceDiagram.astro";
const { alt } = Astro.props;

//language=Mermaid
const diagram = `
sequenceDiagram

    %%{init:{"themeVariables": { "noteBkgColor":"transparent", "noteTextColor":"transparent", "noteBorderColor":"transparent" }}}%%
    actor U as User
    participant B as Browser
    participant F as Static file host
    participant T as TMB
    participant R as Resource server
    
    U->>B: Visit website
    B->>F: Request website
    F->>B: Send HTML, CSS, JS
    
    B->>T: Is there an active session (include session cookie)?
    T->>B: Yes, here is your access token
    
    U->>B: Make a purchase
    B->>R: Make a purchase (include access token)
`;
---
<Diagram code={diagram} alt={alt}/>


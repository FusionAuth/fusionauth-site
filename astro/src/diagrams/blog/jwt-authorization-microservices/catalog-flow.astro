---
import Diagram from "../../../components/mermaid/SequenceDiagram.astro";
const { alt } = Astro.props;

//language=Mermaid
const diagram = `
sequenceDiagram

participant api as API client
participant Gateway
participant Products
api ->> Gateway : Request products/1
Gateway ->> Gateway : Generate JWT adding in roles
Gateway ->> Products : Request products/1 + JWT
Products ->> Products : Verify JWT via middleware
Products ->> Products : Check roles
Products -->> Gateway : products/1 data
Gateway -->> api : products/1 data
`;
---
<Diagram code={diagram} alt={alt}/>


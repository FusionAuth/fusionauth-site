---
import Diagram from "src/components/mermaid/SequenceDiagram.astro";
const { alt } = Astro.props;

//language=Mermaid
const diagram = `
sequenceDiagram

    participant ClockRadio as Clock Radio
    participant FusionAuth
    participant API as Weather API

    ClockRadio ->> FusionAuth : Request Access Token
    FusionAuth ->> FusionAuth : Validate Request
    FusionAuth ->> ClockRadio : Return Token
    ClockRadio ->> API : Request Weather Data With Token
    API ->> API : Validate Token
    API ->> ClockRadio : Return Data
    Note over API, ClockRadio: Time passes
    ClockRadio ->> API : Request Weather Data Again, With Token
    API ->> API : Validate Token
    API ->> ClockRadio : Return Data
`;
---
<Diagram code={diagram} alt={alt} />

---
import Diagram from 'src/components/mermaid/FlowchartDiagram.astro';

const { alt } = Astro.props;

//language=Mermaid
const code = `
graph TD
    1[Programmer] --> 2[Push to main branch on GitHub]
    2 --> 3[GitHub action triggers]
    3 --> 4[Compile app in a virtual machine]
    subgraph Inside GitHub Action
        4 --> 5[Test app can log in with FusionAuth]
        5 -- Deploy --> 6[AWS]
        5 -- Deploy --> 7[Azure]
        5 -- Deploy --> 8[Virtual server]
    end
`;
---
<Diagram {code} alt={alt} />
<style is:global>
    foreignObject > div {
        transform: translateY(-4px);
    }
</style>

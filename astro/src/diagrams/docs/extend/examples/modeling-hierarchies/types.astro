---
import Diagram from 'src/components/mermaid/FlowchartDiagram.astro';

const { alt } = Astro.props;

//language=Mermaid
const diagram = `
graph BT
  subgraph Users & Applications
    n1("``*Application*
    **Change Bank**``")
    n2("``*User*
    **Alice**``")
    n3("``*Registration*``")
    n4("``*Role*
    **Employee**``")
    n5("``*Role*
    **Client**``")
    n6("``*User*
    **Bob**``")
    n7("``*Registration*``")
    n8("``*User*
    **Eve**``")
    n9("``*Registration*``")
    n10("``*Group*
    **VIP Clients**``")
  end

  subgraph Entities & Permissions
    n11("``*Entity Type*
    **Company**``")
    n12("``*Entity*
    **Change Bank**``")
    n13("``*Permission*
    **ReadAccess**``")
    n14("``*Permission*
    **WriteAccess**``")
    n15("``*Entity*
    **Change Insurance**``")
    n16("``*Entity Grant*``")
    n17("``*Entity Grant*``")
  end

  n1 --o n4 & n5
  n2 --o n3 & n17
  n3 --o n1 & n4
  n6 --o n7 & n4
  n7 --o n1 & n5
  n8 --o n9 & n10
  n9 --o n1
  n10 --o n1 & n5
  n12 --o n11 & n13 & n14
  n15 --o n11 & n16
  n16 --o n13 & n12
  n17 --o n13 & n12
`;
---
<Diagram code={diagram} alt={alt}/>

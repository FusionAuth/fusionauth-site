---
import Diagram from 'src/components/mermaid/FlowchartDiagram.astro';

const { alt } = Astro.props;

//language=Mermaid
const code = `
graph TD
  subgraph E[Elastic Server]
    J(Kibana) --> B[(Elasticsearch)]
    J --> F(Fleet)
  end
  subgraph I[Your server]
    subgraph G[Docker]
      H[(PostgreSQL)]
    end
    subgraph C[Docker]
      A(FusionAuth)
      D(Elastic Agent)
    end
  end
  A --> G
  D --> E
  style I fill:#999
  style E fill:#999
`;
---
<Diagram {code} alt={alt} />
<style is:global>
    foreignObject > div {
        transform: translateY(-4px);
    }
</style>
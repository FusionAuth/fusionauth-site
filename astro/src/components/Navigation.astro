---
const nav = {
  "WebAuthn": [
    {
      path: "/overview",
      title: "Overview"
    },
    {
      path: "/what-is-webauthn",
      title: "What is WebAuthn?"
    },
    {
      path: "/passkeys",
      title: "Passkeys"
    },
    {
      path: "/common-questions",
      title: "Common Questions"
    }
  ],
  "History of WebAuthn": [
    {
      path: "/history/about",
      title: "About"
    },
    {
      path: "/history/fido-alliance",
      title: "FIDO alliance"
    },
    {
      path: "/history/fido-protocols",
      title: "FIDO Protocols"
    }
  ],
  "How it works": [
    {
      path: "/how-it-works/webauthn-basics",
      title: "WebAuthn Basics"
    },
    {
      path: "/how-it-works/registration-flow",
      title: "Registration Flow"
    },
    {
      path: "/how-it-works/authentication-flow",
      title: "Authentication Flow"
    },
    {
      path: "/how-it-works/relying-party",
      title: "Relying Party"
    },
    {
      path: "/how-it-works/authenticators",
      title: "Authenticators"
    }
  ],
  "Browser & Device Support": [
    {
      path: "/browser-and-device-support/web-browsers",
      title: "Web Browsers"
    },
    {
      path: "/browser-and-device-support/mobile-browsers",
      title: "Mobile Browsers"
    },
    {
      path: "/browser-and-device-support/device-support",
      title: "Device Support"
    },
    {
      path: "/browser-and-device-support/hardware-keys",
      title: "Hardware Keys"
    }
  ],
  "Develop with WebAuthn": [
    {
      path: "/developers/build-it-yourself",
      title: "Build it Yourself"
    },
    {
      path: "/developers/use-an-auth-provider",
      title: "Use an Auth Provider"
    },
    {
      path: "/developers/debugger",
      title: "Debugger"
    },
    {
      path: "/developers/demo",
      title: "Demo"
    }
  ]
}
---

<nav>
  <ul>
    {(Object.keys(nav).map(section =>
      <li>
        <h5 class="font-semibold pb-4 text-sm">{section}</h5>
        <ul class="border-l border-slate-900/10 group mb-10 space-y-3 dark:border-slate-100/10">
          {(nav[section].map(item =>
            <li class={(Astro.url.pathname === item.path ? "active " : "") + "group"}><a href={item.path} class="block border-l border-transparent pl-4 text-slate-700 text-sm -ml-px dark:text-slate-400 dark:hover:border-slate-400 dark:group-[.active]:border-indigo-400 dark:group-[.active]:text-indigo-400 group-[.active]:border-indigo-600 group-[.active]:font-semibold group-[.active]:text-indigo-600 hover:border-slate-900/50">{item.title}</a></li>
          ))}
        </ul>
      </li>
    ))}
  </ul>
</nav>

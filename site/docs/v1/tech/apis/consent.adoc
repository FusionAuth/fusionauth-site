---
layout: doc
title: Consent APIs
description: APIs for creating, retrieving, updating and deleting families
---

== Overview

[NOTE.since]
====
This API has been available since 1.7.0
====

[WARNING]
====
This API is in technical preview and is subject to change.
====

A FusionAuth Consent is a definition of a permission that can be given to a User. At a minimum a consent has a name, and defines the minimum age of self-consent. A consent can then be granted to a User from a family member or optionally a User may self-consent if they meet the minimum age defined by the consent.

The first API allows you to create, delete, update and retrieve a consent. The FusionAuth Consent is the object that defines the consent, the values, minimum ages, etc.

* <<Create a Consent>>
* <<Retrieve a Consent>>
* <<Update a Consent>>
* <<Delete a Consent>>

.{nbsp} +

The second API is the User Consent API, this API allows you to grant a User Consent, and update a User Consent. In order to revoke a User Consent you simply need to update the consent status.

* <<Grant a User Consent>>
* <<Update a User Consent>>
* <<Revoke a User Consent>>

== Create a Consent

This API is used to create a new Consent.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Create a new Consent with a randomly generated Id
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/consent#
--

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Create a new Consent with the provided unique Id
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/consent/`\{consentId\}`#
--

[cols="3a,7a"]
[.api]
.Request Parameters
|===
|[field]#consentId# [type]#[UUID]# [optional]#Optional# [default]#defaults to secure random UUID#
|The Id to use for the new Consent. If not specified a secure random UUID will be generated.
|===

include::docs/v1/tech/apis/_consent-request-body.adoc[]

=== Response

The response for this API contains the Consent that was created.

include::docs/v1/tech/apis/_standard-post-response-codes.adoc[]

include::docs/v1/tech/apis/_consent-response-body.adoc[]

== Retrieve a Consent

This API is used to retrieve a single Consent by unique Id or all of the configured Consents.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Retrieve all of the Consents
[.endpoint]
.URI
--
[method]#GET# [uri]#/api/consent#
--

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Retrieve a Consent by Id
[.endpoint]
.URI
--
[method]#GET# [uri]#/api/consent/`\{consentId\}`#
--

[cols="3a,7a"]
[.api]
.Request Parameters
|===
|[field]#consentId# [type]#[UUID]# [required]#Required#
|The unique Id of the Consent to retrieve.
|===

=== Response

The response for this API contains either a single Consent or all of the Consents. When you call this API with an Id the response will contain a single Consent. When you call this API without an Id the response will contain all of the Consents. Both response types are defined below along with an example JSON response.

include::docs/v1/tech/apis/_standard-get-response-codes.adoc[]

include::docs/v1/tech/apis/_consent-response-body.adoc[]

include::docs/v1/tech/apis/_consents-response-body.adoc[]

== Update a Consent

This API is used to update an existing Consent. You must specify the Id of the Consent you are updating on the URI. You must specify all of the properties of the Consent when calling this API. This API does not merge the existing Consent with your new data.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Update the Consent with the given Id
[.endpoint]
.URI
--
[method]#PUT# [uri]#/api/consent/`\{consentId\}`#
--

:api_endpoint: pass:normal[/api/consent/`\{consentId\}`]
include::docs/v1/tech/apis/_patch-support.adoc[]

[cols="3a,7a"]
[.api]
.Request Parameters
|===
|[field]#consentId# [type]#[UUID]# [required]#Required#
|The Id to use for the Consent to update.
|===

include::docs/v1/tech/apis/_consent-request-body.adoc[]

=== Response

The response for this API contains the Consent that was updated.

include::docs/v1/tech/apis/_standard-put-response-codes.adoc[]

include::docs/v1/tech/apis/_consent-response-body.adoc[]

== Delete a Consent

This API is used to permanently delete a Consent. Deleting a Consent will also permanently delete all granted User Consent. This operation cannot be reversed and it may affect users across multiple tenants.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Delete a Consent by Id
[.endpoint]
.URI
--
[method]#DELETE# [uri]#/api/consent/`\{consentId\}`#
--

[cols="3a,7a"]
[.api]
.Request Parameters
|===
|[field]#consentId# [type]#[UUID]# [required]#Required#
|The unique Id of the Consent to delete.
|===

=== Response

This API does not return a JSON response body.

include::docs/v1/tech/apis/_standard-delete-response-codes.adoc[]

== Grant a User Consent

This API is used to grant Consent to a User.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Grant consent to a User with a randomly generated Id
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/user/consent#
--

include::docs/v1/tech/apis/_x-fusionauth-tenant-id-header-scoped-operation.adoc[]

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Grant consent to a User with the provided unique Id
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/user/consent/`\{userConsentId\}`#
--

[cols="3a,7a"]
[.api]
.Request Parameters
|===
|[field]#userConsentId# [type]#[UUID]# [optional]#Optional# [default]#defaults to secure random UUID#
|The Id to use for the new User Consent. If not specified a secure random UUID will be generated.
|===

include::docs/v1/tech/apis/_x-fusionauth-tenant-id-header-scoped-operation.adoc[]

include::docs/v1/tech/apis/_user-consent-request-body.adoc[]

=== Response

The response for this API contains the User Consent that was created.

include::docs/v1/tech/apis/_standard-post-response-codes.adoc[]

include::docs/v1/tech/apis/_user-consent-response-body.adoc[]

== Update a User Consent

This API is used to update a consent. Once consent has been granted to a User, only the values and status may be modified.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Update a User Consent with given Id
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/user/consent/`\{userConsentId\}`#
--

:api_endpoint: pass:normal[/api/user/consent/`\{userConsentId\}`]
include::docs/v1/tech/apis/_patch-support.adoc[]

[cols="3a,7a"]
[.api]
.Request Parameters
|===
|[field]#userConsentId# [type]#[UUID]# [required]#Required#
|The Id of the User Consent to update.
|===

include::docs/v1/tech/apis/_x-fusionauth-tenant-id-header-scoped-operation.adoc[]

:update:
include::docs/v1/tech/apis/_user-consent-request-body.adoc[]
:update!:

=== Response

The response for this API contains the User Consent that was updated.

include::docs/v1/tech/apis/_standard-put-response-codes.adoc[]

include::docs/v1/tech/apis/_user-consent-response-body.adoc[]

== Revoke a User Consent

This API is used to revoke a consent. This is equivalent to using the Update User Consent API and modifying the status to `Revoked`.

=== Request

[.api-authentication]
link:authentication#api-key-authentication[icon:lock[role=red,type=far]] Revoke a User Consent with given Id
[.endpoint]
.URI
--
[method]#DELETE# [uri]#/api/user/consent/`\{userConsentId\}`#
--

include::docs/v1/tech/apis/_x-fusionauth-tenant-id-header-scoped-operation.adoc[]

=== Response

This API does not return a JSON response body.

include::docs/v1/tech/apis/_standard-delete-response-codes.adoc[]
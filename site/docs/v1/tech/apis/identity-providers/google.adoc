---
layout: doc
title: Google Identity Provider APIs
description: APIs for creating, retrieving, updating and disabling the Google identity provider
---

== Overview

[NOTE.since]
====
This API has been available since 1.1.0
====

The Google identity provider type will use the Google OAuth v2.0 login API. it will provide a `Login with Google` button on FusionAuth's login page that will leverage the Google login pop-up dialog. Additionally, this identity provider will call Google's `/oauth2/v3/tokeninfo` API to load additional details about the user and store them in FusionAuth.

The email address returned by the Google Token info API will be used to create or lookup the existing user. Additional claims returned by Google can be used to reconcile the User to FusionAuth by using a Google Reconcile Lambda. Unless you assign a reconcile lambda to this provider, on the `email` address will be used from the available claims returned by Google.

FusionAuth will also store the Google `access_token` that is returned from the login pop-up dialog in the `UserRegistration` object inside the `tokens` Map. This Map stores the tokens from the various identity providers so that you can use them in your application to call their APIs.

=== Operations

* <<Create the Google Identity Provider>>
* <<Retrieve the Google Identity Provider>>
* <<Update the Google Identity Provider>>
* <<Delete the Google Identity Provider>>
* <<Complete the Google Login>>

== Create the Google Identity Provider

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Create the Google Identity Provider
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/identity-provider#
--

The [field]#type# in the request JSON is used to determine that you are managing the Google identity provider.

include::docs/v1/tech/apis/identity-providers/_google-request-body.adoc[]

=== Response

:never_search_error:
include::docs/v1/tech/apis/_standard-post-response-codes.adoc[]
:never_search_error!:

include::docs/v1/tech/apis/identity-providers/_google-response-body.adoc[]

== Retrieve the Google Identity Provider

There is only one Google Identity Provider, so this Identity Provider may be retrieved by type or Id.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Retrieve the Google Identity Provider by type
[.endpoint]
.URI
--
[method]#GET# [uri]#/api/identity-provider``?type=Google``#
--

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Retrieve the Google Identity Provider by Id
[.endpoint]
.URI
--
[method]#GET# [uri]#/api/identity-provider/`82339786-3dff-42a6-aac6-1f1ceecb6c46`#
--

=== Response

:never_search_error:
include::docs/v1/tech/apis/_standard-get-response-codes.adoc[]
:never_search_error!:


include::docs/v1/tech/apis/identity-providers/_google-response-body.adoc[]

== Update the Google Identity Provider

There is only one Google Identity Provider, so this Identity Provider may be updated by type or Id.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Update the Google Identity Provider by type
[.endpoint]
.URI
--
[method]#PUT# [uri]#/api/identity-provider``?type=Google``#
--

:api_endpoint: pass:normal[/api/identity-provider``?type=Google``]
include::docs/v1/tech/apis/_patch-support.adoc[]

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Update the Google Identity Provider by Id
[.endpoint]
.URI
--
[method]#PUT# [uri]#/api/identity-provider/`82339786-3dff-42a6-aac6-1f1ceecb6c46`#
--

:api_endpoint: pass:normal[/api/identity-provider/`82339786-3dff-42a6-aac6-1f1ceecb6c46`]
include::docs/v1/tech/apis/_patch-support.adoc[]

include::docs/v1/tech/apis/identity-providers/_google-request-body.adoc[]


=== Response

The response for this API contains the Google Identity Provider.

:never_search_error:
include::docs/v1/tech/apis/_standard-put-response-codes.adoc[]
:never_search_error!:


include::docs/v1/tech/apis/identity-providers/_google-response-body.adoc[]

== Delete the Google Identity Provider

There is only one Google Identity Provider, so this Identity Provider may be deleted by type or Id.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Delete the Google Identity Provider by type
[.endpoint]
.URI
--
[method]#DELETE# [uri]#/api/identity-provider``?type=Google``#
--

[.api-authentication]
link:/docs/v1/tech/apis/authentication#api-key-authentication[icon:lock[type=fas]] Delete the Google Identity Provider by Id
[.endpoint]
.URI
--
[method]#DELETE# [uri]#/api/identity-provider/`82339786-3dff-42a6-aac6-1f1ceecb6c46`#
--

=== Response

This API does not return a JSON response body.

:never_search_error:
include::docs/v1/tech/apis/_standard-delete-response-codes.adoc[]
:never_search_error!:


== Complete the Google Login

This API allows you to complete a Google login after authenticating a user using the Google API. If you are using the FusionAuth login UI with the Google button you will not utilize this API directly.

This API is intended to be used if you want to build your own login page and you have added the Google login button to your own login page and you then need to complete the login with FusionAuth.

For example, if you built your own login page, you could add a Login with Google button and complete the Google authentication. When you complete the Google authentication you will have been returned an id token from Google. Using this API you can pass that id token returned from Google to FusionAuth and we will complete the login workflow and reconcile the user to FusionAuth.

The user does not need to exist yet in FusionAuth to utilize this API. The token returned from Google will be used to retrieve the user's email address, if that user does not yet exist in FusionAuth the user will be created. If create registration has been enabled for this identity provider and the user does not yet have a registration for this application, a registration will be automatically created for the user. The user will be assigned any default roles configured for the application. If create registration has not been enabled, a registration will not be created if one does not yet exist. This last scenario is useful if you wish to manually provision users and then subsequently allow them to login with Google.

=== Request

[.api-authentication]
link:/docs/v1/tech/apis/authentication#no-authentication-required[icon:unlock[type=fas]] Complete Google Login
[.endpoint]
.URI
--
[method]#POST# [uri]#/api/identity-provider/login#
--

==== Request Headers

[.api]
include::docs/v1/tech/apis/identity-providers/_x-forwarded-for-header.adoc[]
include::docs/v1/tech/apis/_x-fusionauth-tenant-id-header-scoped-operation-row-only.adoc[]

:loginProvider: Google
include::docs/v1/tech/apis/identity-providers/_identity-provider-login-request-body.adoc[]
:loginProvider!:

=== Response

The response for this API contains the User object.

:loginProvider: Google
include::docs/v1/tech/apis/identity-providers/_identity-provider-login-response-body.adoc[]
:loginProvider!:

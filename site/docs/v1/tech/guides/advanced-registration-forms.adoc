---
layout: doc
title: Advanced Registration Forms
description: Advanced Registration Forms
---
:page-liquid:

Retrieving Data
Special Cases
  Registration When Using Other Identity Providers
  Multiple Forms Writing To The Same Underlying Data Storage

UX Recommendations
Limitations

== What Are Advanced Registration Forms

Advanced registration forms let you build powerful, multi-step, custom registration experiences with no coding required.

Pic TBD of building a reg form

You might be interested in this feature if you use the FusionAuth themed login pages for your application, and the default self service registration form isn't sufficient for your needs. Whether you want to break a form up into multiple steps for a better user experience, share registration forms between applications, or gather additional, app specific registration data, advanced registration forms can help.

== How Do I Use Advanced Registration Forms?

*This is a paid edition feature and is unavailable in the community edition. Please visit link:/pricing[our pricing page] to learn more about paid editions.*

Here's a video showing setup and usage of the advanced registration forms feature.

video::NDXHE8I[youtube,width=560,height=315]

This guide will walk you through all the setup, but to use advanced registration forms, you must:
* create any custom form fields (optional). This includes 
* assemble pre-defined and custom form fields into steps, and those steps into a form
* configuring an application to use the form
* theming the form (optional, but highly recommended)

== Differences Between Advanced and Basic Registration Forms

FusionAuth has two types of registration forms, basic and advanced. Both of these allow a user to register themselves for your application.

Basic registration is one step, so all the fields are on one page. You can enable zero or more of the following user data fields:

* Birthdate
* First name
* Full name
* Last name
* Middle name
* Mobile phone

Any of these fields that are displayed can be required as well. You can choose to use a username or an email for your login identifier. A password will be displayed and will be required. 

Pic TBD basic registration

This is a very servicable implementation of a registration page; you can collect a variety of information and at the end the user will be associated with the application in FusionAuth and be able to log in. The look and feel can be modified using themes. You can also provide additional validation using client side JavaScript, managed through via the theme.

Advanced registration forms have the following additional features:

* You can collect additional registration data and store it in FusionAuth.
* You can add additional server side validation to any field, including matching a regular expression.
* There's support for more complicated field logic, such as consents and confirmation fields.
* You can create two or more steps to break up the registration process into less imposing chunks.

Basic registration forms are a subset of advanced registration forms, so anything you can do with the former you can also do with the latter.

== Setting Up

First, to use advanced registration forms, you must have a valid license key. Please visit link:/pricing[our pricing page] to review paid editions and buy a license.

Next, activate the license. You'll need to ensure that your FusionAuth instance has outbound network access. To activate, simply follow the steps outlined in the link:/docs/v1/tech/reactor[Reactor documentation].

== Creating A Form

Let's create a form for a fictional real estate application. When someone registers, you want to know the house price range they're interested in. 

Let's create a form asking for the following profile information:

* Email
* Password
* First name
* Phone number
* Geographic area where they are looking
* Minimum house price
* Maximum house price

Some of these fields are avaiable by default, but some are not. Before you create a form, you need to create any custom form fields. 

=== Create Form Fields

The first step of building this form is to ensure that you have all the fields you need. The following fields are available by default:

* Password
* First name
* Full name
* Mobile phone
* Birthdate
* Last name
* Username
* Middle name
* Email

If you need additional fields, you'll want to create them. To do so, navigate to [breadcrumb]#Customizations -> Form Fields#. You'll see a list of the default fields, as well as a button to create new ones. 

You can mix and match the default form fields on a form. If that's all you need, no need for any custom form fields. But if you need to capture any other profile data, create a new form field.

==== Custom form fields

The real power of registration form building can be seen when you add custom fields. You can add as many of these as you'd like. 

You may store values in any of the predefined user fields such as `user.fullName`. But you can also use the `data` field on both the `registration` and the `user` objects to store arbitrary data. 

`user.data` is the right place to store data related to a user's account, but not application specific. If you wanted to ask for information that multiple applications might use, such as a current mailing address, that would be best stored in the `user.data` field.

`registration.data` is the right place to store data related to a user's account that is specific to an application. As a reminder, link:/docs/v1/tech/core-concepts/registrations[a registration] is a link between a user and an application. 

Since this is a real estate app, data like the minimum house hunting price point of the user is germane to this application. Storing it on the registration is the right approach. If you were later to build a mortgage application using FusionAuth as its auth layer, there'd be different fields, such as loan amount, associated with that registration. 

First, add a minimum price. Configure the form field to have a data type of `number` and a `text` form control. The user's minimum price point is useful information, so let's make it required. This means a new user can't complete registration without providing a value. Here's what it will look like before saving the configuration:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/form-field-min-price-required.png" alt="Adding the minimum price field." class="img-fluid" figure=false %}

Beyond configuring a form field to be required, you can also ensure that a field matches a regular expression or a confirmation field. The latter may be useful to double check that critical data such as a password is entered correctly.

Add a maximum price field by duplicating the `minprice` field. Use a key of `maxprice`; keys must be unique within in whichever data field you're using. Change the name too. All other settings should be the same as the `minprice` field.

Add a geographic search area custom field. The purpose of this field is to capture where the new user is looking to buy. It'll be a string, but make it optional, as potential users might not have a good idea of where they're interested in looking at homes.

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/form-field-geographic-area.png" alt="Adding the geographic area field." class="img-fluid" figure=false %}

After saving the above additions, if you view the list of fields, you'll notice you've added three fields. They are available for use in the form you're going to build next. They can also be used for future forms as well.

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/list-of-form-fields.png" alt="The list of fields with our custom fields added." class="img-fluid" figure=false %}

You can have two different form fields defined that point to the same underlying data field. You may do this if the data is required in one form and not in another. 

== Create a Form

The next step is to build the form. At this point you can mix and match any of the standard, predefined form fields and your custom form fields.

Fields can appear in any order on the form; whatever makes the most sense for your audience works with FusionAuth. When you create a new form, you'll see a name field and a button to add steps:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/initial-form.png" alt="The blank form, ready to be assembled." class="img-fluid" figure=false %}

The requirements for a registration form are:

* You must have at least one step.
* You must have either an email or a username field in one of your steps.
* You must have a password field in one of your steps.

To begin building this real estate application form, navigate to [breadcrumb]#Customizations -> Forms#. Click the green "+" button to create a new form.

Add the first step and the following fields:

* First name
* Email
* Password
* Phone number

When you're done, it should look like this: 

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/form-first-step.png" alt="Adding fields to our first step." class="img-fluid" figure=false %}

Just as you can create any number of custom form fields, you can also add as many steps as you want. 

Next, create a second step. Add your custom house hunting parameter fields:

* Geographic area of interest
* Minimum house search price
* Maximum house search price

After you've added these fields to the form, you'll see this:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/form-second-step.png" alt="Adding fields to our second step." class="img-fluid" figure=false %}

Feel free to rearrange the form fields within each step by clicking the arrows to move a field up or down. 

The form configuration specifies steps and field display order within those steps. If you need to move a field between steps, delete it from one step and add it to another. Each field can live in zero or one steps.

To change field validation or other attributes, return to the "Fields" section to make your changes. When you're done tweaking the form to your liking, save it.

== Associate a Form With an Application

Now that you've created a form with custom fields, the next step is to specify which applications should use it. Forms and form fields can be reused in any application and any tenant. 


Navigate to the [breadcrumb]#Applications# tab and create a new FusionAuth application. 

You must configure a redirect URL; this is where the user is sent when registration succeeds. Navigate to the [breadcrumb]#OAuth# tab of your application and enter a valid redirect URL.

Though the specifics depend on your application settings, such as whether you require email verification, a user will typically be authenticated at the end of this registration process.

Configure the application to allow users to register themselves. Otherwise, no users will be allowed to create their own accounts, which means they'll never see the registration form. Navigate to the [breadcrumb]#Registration# tab and enable [field]#Self service registration#. Check the advanced option and select the form you created. 

Return to the list of applications. Your form is ready to go. Once you have the registration URL, you can have your users sign up.

== User registration

Find the registration URL. Navigate to [breadcrumb]#Applications# and then view the application you created. The "Registration URL" is what you want:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/viewing-application-details.png" alt="Finding the registration URL." class="img-fluid" figure=false %}

Now that you have the URL, open up an incognito window or a different browser and navigate to it. 

You can see that the first screen asks for your first name, email address, password and phone number. It also lets you know how many registration steps there are.

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/first-screen-unthemed.png" alt="The first page of the custom registration flow." class="img-fluid" figure=false %}

The second screen asks for additional information: the minimum and maximum home prices and your area of geographic interest. 

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/user-registers-second-screen-50kmin.png" alt="The second page of the custom registration flow with information in it." class="img-fluid" figure=false %}

Click "Register" to complete your sign up. In the incognito window, you'll be sent to the configured redirect URL value. 

=== A user signup from the admin's view

Sign into the administrative user interface and navigate to [breadcrumb]#Users# section. You'll see that there is a new account:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/list-users-screen.png" alt="A list of users, including the one just registered." class="img-fluid" figure=false %}

If you go to the [breadcrumb]#User data# tab on the new user's account details page, you'll see the custom data as well:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/displaying-user-data.png" alt="The user data tab of the newly registered user." class="img-fluid" figure=false %}

== Theming

The form you just build has a few rough user interface elements. These can be solved by using themeing.

=== Setup for theming

While you can make all changes oulined below in the administrative user interface, you can also manipulate the theme via the FusionAuth API.

To do so, navigate to [breadcrumb]#Settings -> API Keys# and create an API key. 

Select the following permissions, at a minimum:

* `/api/theme`: all methods

Next, create a new theme since the default theme is read-only. Themes are assigned on a tenant by tenant basis, so you can either change the theme for the default tenant or create a new tenant and assign a new theme to it. 

Navigate to [breadcrumb]#Customizations -> Themes#. Duplicate the existing FusionAuth theme. Rename your theme to something meaningful, such as "Real Estate Application". 

{% include _image.liquid src="/assets/img/blogs/theming-advanced-forms/duplicate-theme.png" alt="Duplicate your theme to allow for customization." class="img-fluid" figure=false %}

Navigate to [breadcrumb]#Tenants# and edit the "Default" tenant. Go to the [breadcrumb]#General# tab and update the "Login theme" setting to the new theme. 

{% include _image.liquid src="/assets/img/blogs/theming-advanced-forms/select-login-theme.png" alt="Select your new theme for the default tenant." class="img-fluid" figure=false %}

=== Customizing a theme

Customizing the theme gives you full control over what the user sees. As a reminder, here's what the first step of the registration flow looked like with no theming:

{% include _image.liquid src="/assets/img/blogs/advanced-registration-forms/first-screen-unthemed.png" alt="The first page of the custom registration flow." class="img-fluid" figure=false %}

You are going to add in placeholders for text input boxes and labels, but there's a lot more you can do; check out the [theming documentation](/docs/v1/tech/themes/) for more.

Navigate to [breadcrumb]#Customizations -> Themes#. Find the theme you created above and copy the id; it'll be a GUID.

==== Modifying a theme via API

To change placeholders and any other messages, such as the validation errors, you must edit a file containing these messages. This is a Java properties file. Like most of FusionAuth functionality, you can modify this via the administrative user interface or the API.

You might want to use the API if you plan to version control the messages or if you want to build tooling around localization.

You could manage these files with raw API calls, but scripts can help. The below shell scripts assume you are running FusionAuth at `http://localhost:9011`; if not, adjust accordingly. These scripts are https://github.com/FusionAuth/fusionauth-theme-management[also available on GitHub]. You must have https://stedolan.github.io/jq/[jq] and python3 installed locally to use them.

==== Retrieving a theme file for local editing

First, retrieve the messages into a text file for easy editing. Below is a shell script which converts the JSON into a newline delimited file:

```shell
API_KEY=<your api key> # created above
THEME_ID=<your theme id>

curl -H "Authorization: $API_KEY" 'http://localhost:9011/api/theme/'$THEME_ID|jq '.theme.defaultMessages' |sed 's/^"//' |sed 's/"$//' |python3 convert.py > defaultmessages.txt
```

The `convert.py` script turns embedded newlines into real ones:

```python
import sys

OUTPUT = sys.stdin.read()
formatted_output = OUTPUT.replace('\\n', '\n')
print(formatted_output)
```

This script only downloads the messages file, but could be extended to retrieve other theme attributes.

Running this script after adding the API key and theme ID will deposit a `defaultmessages.txt` file in the current directory.


```
#
# Copyright (c) 2019-2020, FusionAuth, All Rights Reserved
#
# Licensed under the Apache License, Version 2.0 (the \"License\");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0

# ...

# Webhook transaction failure
[WebhookTransactionException]=One or more webhooks returned an invalid response or were unreachable. Based on your transaction configuration, your action cannot be completed.
```

It is approximately 200 lines in length; the above is an excerpt. Open it in your favorite text editor to modify it.

==== Modifying the messages file

To add the placeholders, you need to add values to the "Custom Registration" section. 

Maintaining sections in this file isn't enforced since it's not a `.ini` file. However, it's a good idea to change only what is needed. Upgrades to FusionAuth will add more properties and you will have to merge your changes in. 

Search for section starting with this text:

```properties
# ...
#
# Custom Registration forms. These must match the domain names.
#
user.email=Email
user.password=Password
user.birthDate=Birthdate

#
# Custom Registration form validation errors.
#
[confirm]user.password=Confirm password
# ...
```

The keys of the messages file lines must match the field keys for the registration form, whether custom or default. 

To add the placeholders for the custom and default input fields, add these lines:

```properties
user.firstName=Your first name
user.mobilePhone=Your mobile phone num
registration.data.minprice=Minimum home price
registration.data.maxprice=Maximum home price
registration.data.geographicarea=Where are you looking?
```

To add validation error messages, search for `# Custom Registration form validation errors`. This is the section to add the error messages. 

Each error message takes the form: `[errortype]fieldname`. Look at the `Default validation errors` section to see the list of valid `errortype`s. The field name is the keyname for the field, custom or default, where you'd like the error to appear. For example, to display a user friendly error message when price range information is omitted, add these properties:

```properties
[invalid]registration.data.minprice=Minimum home price required
[invalid]registration.data.maxprice=Maximum home price required
```

These strings are displayed to the user when the `invalid` error occurs. In this case, it's when the minimum or maximum price are not numbers.

If any of the values you add to `defaultmessages.txt` contain a double quote, escape it like so: `\"`. Since the file is turned into a quoted JSON attribute, an unescaped double quote cause the input to be invalid.

==== Updating the theme in FusionAuth

After `defaultmessages.txt` has been changed, it needs to be converted to JSON and sent to FusionAuth. The following script updates a FusionAuth theme's messages attribute:

```shell
API_KEY=<your api key>
THEME_ID=<your theme id>

FILE_NAME=out.json$$

awk '{printf "%s", $0"\\n"}' defaultmessages.txt |sed 's/^/{ "theme": { "defaultMessages": "/' | sed 's/$/"}}/' > $FILE_NAME

STATUS_CODE=`curl -XPATCH -H 'Content-type: application/json' -H "Authorization: $API_KEY" 'http://localhost:9011/api/theme/'$THEME_ID -d @$FILE_NAME -o /dev/null -w '%{http_code}' -s`

if [ $STATUS_CODE -ne 200 ]; then
  echo "Error with patch, exited with status code: "$STATUS_CODE
  exit 1
fi

rm $FILE_NAME
```

Run this script in the directory with the modified `defaultMessages.txt` file to load the new messages file. Visit the registration URL in your incognito browser and see the changes on the first page:

{% include _image.liquid src="/assets/img/blogs/theming-advanced-forms/first-screen-themed.png" alt="The first page of the registration form with the correct messages added." class="img-fluid" figure=false %}

=== Adding form labels

You can customize your field display more extensively by modifying the `customField` macro. This is in the [breadcrumb]#Helpers# section of your theme. Rather than use the API to do this, edit it directly in the administrative user interface.

Navigate to [breadcrumb]#Themes# and edit your theme. Click on [breadcrumb]#Helpers# and scroll to the bottom. You'll be modifying the `customField` link:https://freemarker.apache.org/[FreeMarker macro].

The macro is a series of if/then statements which get executed against every custom field when the user interface is generated. The macro looks at each field definition and creates the correct HTML element. For instance, a `password` field will be rendered as an HTML input field with the type `password`. 

To add a label to each field, after `[#assign fieldId = field.key?replace(".", "_") /]`, add this:

```
<label for="${fieldId}">${theme.optionalMessage(field.key)}:</label>
```

Open an incognito window and go through the registration flow again. You should see labels for both steps. These label values are pulled from your message bundles, and can be modified in the same way. 

{% include _image.liquid src="/assets/img/blogs/theming-advanced-forms/first-screen-with-labels.png" alt="The first registration step with labels." class="img-fluid" figure=false %}

This gives you a glimpse of the full flexibility of FusionAuth themes. You can use the power of Apache FreeMarker, ResourceBundles, CSS, and JavaScript to customize and localize these pages. It's also worth checking out the link:/docs/v1/tec/themes[theme documentation]. 

== Reading the data

The registered user's profile data is available via the FusionAuth APIs, in the user fields, `user.data`, and `registration.data` fields. It is also available for viewing, but not editing, in the administrative user interface. 

To enable users to modify these, you'll have to build an interface, a profile moanagement application. The application will let users log in or register. After a user has been authenticated, it displays their profile information. 

Because the profile data isn't standard, you can't use an OAuth or OIDC library to retrieve it, you must use the FusionAuth APIs. To do so, you'll need to create an API key and then use either the API or one of the link:/docs/v1/tech/client-libraries/[client libraries] to access it.

This interface should be integrated with the rest of your application, but this document will show an example in python. You can view the link:https://github.com/FusionAuth/fusionauth-example-flask-portal[example code here].

=== Creating an API key

Go to [breadcrumb]#Settings -> API Keys#. Create an API key. Configure these endpoints to be allowed:

* `/api/user/registration`: all methods
* `/api/form`: `GET` only
* `/api/form/field`: `GET` only

Here's the relevant section of the example application:

```python
# ...

@app.route('/', methods=["GET"])
def homepage():
  user=None
  registration_data=None
  fields = {}
  if session.get('user') != None:
    user = session['user']
    fusionauth_api_client = FusionAuthClient(app.config['API_KEY'], app.config['FA_URL'])
    user_id = user['sub']
    application_id = user['applicationId']
    client_response = fusionauth_api_client.retrieve_registration(user_id, application_id)
    if client_response.was_successful():
      registration_data = client_response.success_response['registration'].get('data')
      fields = get_fields(fusionauth_api_client)
    else:
      print(client_response.error_response)
  return render_template('index.html', user=user, registration_data=registration_data, fields=fields)

# ...

```
The home page route examines the `user` object, which was returned from the successful authentication. It pulls off the `sub` attribute, which is the user identifier and looks something like `8ffee38d-48c3-48c9-b386-9c3c114c7bc9`. It also retrieves the `applicationId`. Both of these existed on the user object before, but the previous code ignored them. 

Once those ids are available, the registration object is retrieved using a previously created FusionAuth client. The registration object's data field is placed into the `registration_data` variable and passed to the template for display. The helper method, to be examined below in more detail, is also called and whatever it returns is made available to the template as the `fields` variable.

```python
# ...

def get_fields(fusionauth_api_client):
  fields = {}
  client_response = fusionauth_api_client.retrieve_form(app.config['FORM_ID'])
  if client_response.was_successful():
    field_ids = client_response.success_response['form']['steps'][1]['fields']
    for id in field_ids:
      client_response = fusionauth_api_client.retrieve_form_field(id)
      if client_response.was_successful(): 
        field = client_response.success_response['field']
        fields[field['key']] = field
  else:
    print(client_response.error_response)
  return fields
# ...
```

This function looks at the form and retrieves ids of all fields on the second step: `['form']['steps'][1]`. It then gets all each field configuration. 

The code then adds that form field configuration information to a dictionary, keyed off of the key of the field. A key is a string like `registration.data.minprice`. This dictionary is what is used to build certain attributes of the update form, as shown above. This would need to be modified to loop over steps if you had more than one step collecting profile data.

```python
# ... 
@app.route("/update", methods=["POST"])
def update():
  user=None
  error=None
  fields=[]
  fusionauth_api_client = FusionAuthClient(app.config['API_KEY'], app.config['FA_URL'])
  if session.get('user') != None:
    user = session['user']
    user_id = user['sub']
    application_id = user['applicationId']

    client_response = fusionauth_api_client.retrieve_registration(user_id, application_id)
    if client_response.was_successful():
      registration_data = client_response.success_response['registration'].get('data')
      fields = get_fields(fusionauth_api_client)
      for key in fields.keys():
        field = fields[key]
        form_key = field['key'].replace('registration.data.','')
        new_value = request.form.get(form_key,'')
        if field['control'] == 'number':
          registration_data[form_key] = int(new_value)
        else:
          registration_data[form_key] = new_value
      patch_request = { 'registration' : {'applicationId': application_id, 'data' : registration_data }}
      client_response = fusionauth_api_client.patch_registration(user_id, patch_request)
      if client_response.was_successful():
        pass
      else:
        error = "Unable to save data"
        return render_template('index.html', user=user, registration_data=registration_data, fields=fields, error=error)
  return redirect('/')
# ... 
```

This code retrieves the user's registration object for this application. It then updates the `data` object with new values from a form, perhaps transforming a field from a string to a different datatype if required. Currently it handles only the `number` type, but could be extended to handle `boolean` or other data types. After the object has been updated, a `PATCH` request is made. This updates only the `data` field.

== Using the API to Manage Forms

You can use the link:../apis/form-fields[form fields] and link:../apis/forms[forms] APIs to manage your forms. You might do so to allow for easy migration between environments or because you want to create a custom form when you build an application. 

For instance, if you had a private labelled application, you might want to allow an administrator to control which fields were required at registration. Building a simple user interface and then calling the FusionAuth APIs to build a custom registration form and associate it with the new applicaiton would be one way to accomplish this.

== Form Field Details

Valid form field data types and controls are documented in the link:../apis/form-fields[form field API documentation].

=== Consents

If you select a [field]#field# of `Self consent` you'll be forced to choose a consent, which must exist. See the link:../consents[Consent APIs] for more information.

This field will have an automatically generated name based on the name of the consent. For example: `consents['dd35541d-e725-4487-adba-5edbd3680fb8']` but can still be themed. To add a label for the the above consent, add this line to your messages:

```
consents['dd35541d-e725-4487-adba-5edbd3680fb8']=I consent to 
```

Consents are rendered as a checkbox to the user. 

=== Validations

There are multiple types of validation available to you. All of these can be used to ensure that users profile data is valid for your system.

==== Form Control

If you select a form control which has a set of options, such as a radio button or select dropdown, the user will be forced to choose from that set of options.

==== Data Type

You can select one of the non `String` data types to force the user to enter data of a certain type. 

For instance, if a form field has a data type of `Number`, any non numeric value will result in an error message.

Consult the API documentation for the list of supported data types.

==== Required

If true, the field is required and must have a valid value before the user is allowed to complete the registration step it is on.

==== Confirmation

If true, a second field of the same type and control will be generated just below the field. 

Validation of the form will fail unless the same value is entered in both fields.

==== Regular Expression Validation

If true, this value will be matched against the contained regular expression. Any value which doesn't match will cause the step to fail.

== Special Considerations

=== Adding Required Fields Later

Once you enable self service registration, the authentication flow is now like this:

Authorize -> Complete Registration -> Redirect

This means that every time a user authenticates, FusionAuth ensures their registation is complete.

If you add a required field to the application's registration form later, after some users have registered, the next time a user authenticates, they'll be directed to the registration form to fill out the required field.

The [field]#OAuth complete registration# template will be used in this case.

=== Modifying an Existing Form Field

If you want to change the underlying field, control or data type of an existing form field, you cannot. Other attributes may be modified.

To change the immutable attributes, duplicate the form field and update the form to use the new one.

For example, if you had a form which had Minimum Desired Price as a required field and you wanted to make it optional, you could duplidate the existing form field and modify the control or data type. 

=== Multiple Forms Writing To The Same Underlying Data Storage

You can have multiple different form fields associated with a given `registration.data` or `user.data` key, as well as the standard default keys.

This allows you the flexibilty to have multiple forms, composed of these form fields at different times. For example, you may create two custom form fields:

* Required minimum price, a numeric field which is required
* Optional minimum price, a numeric field which is not required

You can have both these fields point to the `registration.data.minprice` data [field]#field#. When you first launch the application, you start out with the required field in your registration form. After time, you may want to relax your registration requirements to increase your conversion rate, so you swap out the required form field. But if someone does enter a minimum price, you'll want it in the same data field.

=== Registration With Other Identity Providers 

If you use a social login provider to register a user but also have a custom registration form, FusionAuth will drop the user into the registration flow after the social login provider returns.

Here's an example. Assume you've enabled the Facebook identity provider and allowed for registration using that provider. Also, assume you've created a registration form with three steps. The first step contains optional fields, and the second step contains required fields.

After a user signs up with Facebook, they'll be dropped back into the registration flow on the second step.


---
layout: doc
title: Tenants
description: An overview of FusionAuth Tenants
---

:sectnumlevels: 0

== Overview

FusionAuth is fundamentally a single tenant solution, so you may be surprised to learn that we support multiple tenants.

FusionAuth will always be a single tenant solution, this means that your instance of FusionAuth is your own and even when FusionAuth is hosting, we do not co-mingle your data with other clients. FusionAuth was built as a single tenant solution, and we have no plans to change anytime soon.

It is entirely likely that our clients may wish to be multi-tenant or offer their services to more than one client. In these scenarios it may be useful to separate Users, Applications and Groups for each of your clients.

For example, let's assume you are building a payroll offering using a SaaS model. In this case it is possible that `monica@piedpiper.com` works for two of your clients, Acme Corp and The Umbrella Company. Because Monica is not aware that Acme Corp and The Umbrella Company both are buying their Payroll software from the same vendor it would be surprising for Monica to share the same password and account details between these two companies. In this scenario you would likely want to utilize the FusionAuth Tenant to ensure that `monica@piedpiper.com` exists once for each instance of your Payroll offering.

See link:/docs/v1/tech/apis/authentication#making-an-api-request-using-a-tenant-id[Tenant API Authentication] for more details about making API requests in a multi-tenant configuration.

Here's a brief video covering some aspects of tenants:

video::bamlKmIelyc[youtube,width=560,height=315]

== Admin UI

This page describes the Admin UI for creating and configuring a Tenant.

* <<Create a Tenant>>
* <<General>>
* <<Connectors>>
* <<Email>>
* <<Family>>
* <<Multi-Factor>>
* <<OAuth>>
* <<JWT>>
* <<Password>>
* <<Webhooks>>
* <<Security>>
* <<Advanced>>

=== Create a Tenant

To create a new tenant, navigate to [breadcrumb]#Tenants#.

image::create-tenant.png[Create a Tenant,width=1200,role=shadowed]

=== Tenant Configuration
A majority of your FusionAuth configuration is managed at the Tenant-level.  Some of these configuration options act as defaults and can be overridden by the Application.

==== General
image::core-concepts/tenant-configuration-general.png[Tenant Configuration - General,width=1200,role=shadowed]

===== Form Fields

[.api]
[field]#Issuer# [required]#Required#::
The named issuer used to sign tokens.  Typically a fully-qualified domain name.

[field]#Login Theme# [optional]#Optional#::
The Theme associated with this Tenant; determines which templates to render for interactive work-flows.

===== Form Settings

[.api]
[field]#Admin user form# [optional]#Optional# [since]#Available since 1.20.0#::
The form that will be used in the FusionAuth UI for adding and editing users.
+
include::docs/v1/tech/shared/_premium-edition-blurb.adoc[]

===== Username settings

Enable [field]#Unique usernames# to allow multiple users suggest the same username. If there are any collisions, FusionAuth will transparently create a unique username by appending a suffix. The user will continue to use the username without the suffix.

[.api]
[field]#Unique usernames# [optional]#Optional# [default]#defaults to `false`# [since]#Available since 1.27.0#::
When `true`, FusionAuth will handle username collisions.
+
include::docs/v1/tech/shared/_premium-edition-blurb.adoc[]

[field]#Number of digits# [optional]#Optional# [default]#defaults to `5`# [since]#Available since 1.27.0#::
The maximum number of digits to use when building a unique suffix for a username. A number will be randomly selected and may be 1 or more digits up to this configured value. The value of this field must be greater than or equal to `3` and less than or equal to `10`.

[field]#Separator character# [optional]#Optional# [default]#defaults to `["&#35;"]`# [since]#Available since 1.27.0#::
A single character to use as a separator from the requested username and a unique suffix that is added when a duplicate username is detected. This value can be a single non alphanumeric ASCII character.

==== Connectors

Connectors can be enabled on a per tenant basis with a Connector policy.

image::connectors/tenant-connector-tab.png[The Tenant Connector policy configuration tab.,width=1200,role=shadowed]

Full documentation on link:/docs/v1/tech/connectors/[Connectors] and link:/docs/v1/tech/connectors/[Connector Policies] can be found link:/docs/v1/tech/connectors/[here].

== Add Connector Policy Dialog

If you click on the `Add policy` button on this page you will be presented with the following dialog.

[.dialog-screenshot]
--
=====
image::core-concepts/tenant-configuration-connector-add-policy.png[Add Connector Policy,width=300,role=box-shadow]
=====
--

=== Form Fields

[.api]
[field]#Connector# [required]#Required#::
The Connector to be used for this policy.

[field]#Domains# [optional]#Optional# [default]#defaults to `["*"]`#::
One or more line separated domains to be used to filter incoming authentication requests. To match all incoming email addresses, a single entry using an asterisk (*) can be used.

[field]#Migrate user# [optional]#Optional#::
When selected, migrate the user from the Connector into FusionAuth so that future authentications will use FusionAuth and not the Connector.

==== Email

Once you have configured your email settings, you may test your configuration with the "Send test email" button.

image::core-concepts/tenant-configuration-smtp-settings.png[Tenant Configuration - SMTP settings,width=1200,role=shadowed top-cropped]

===== SMTP settings

[.api]
[field]#Host# [optional]#Optional# [default]#defaults to `localhost`#::
The hostname of the SMTP server. This will be provided by your SMTP provider.

[field]#Port# [optional]#Optional# [default]#defaults to `25`#::
The port of the SMTP server. This will be provided by your SMTP provider. Ports `25`, `465` and `587` are the well known ports used by SMTP, it is possible your provider will utilize a different port.
+
In most cases you will be using TLS to connect to your SMTP server, and the port will generally be `587` or `465`.

[field]#Username# [optional]#Optional#::
The username of the outgoing SMTP mail server authentication.

[field]#Change password# [optional]#Optional#::
When enabled, you may modify the SMTP password, when the [field]#Password# field is not displayed the current password will not be modified.

[field]#Password# [required]#Required#::
The new password to use for the outgoing SMTP mail server authentication. This field is only required when [field]#Change password# is checked.

[field]#Security# [optional]#Optional# [default]#defaults to `None`#::
The security type when using an SSL connection to the SMTP server. This value should be provided by your SMTP provider.
+
Generally speaking, if using port `25` you will select `None`, if using port of `465` you will select `SSL` and if using port `587` you will select `TLS`. It is possible your provider will be different, follow your providers instruction.
+
* `None`
* `SSL`
* `TLS`

[field]#Default from address# [optional]#Optional#::
The default email address that emails will be sent from when a from address is not provided on an individual email template. This is the address part email address (i.e.  Jared Dunn  <**jared@piedpiper.com**>).

[field]#Default from name# [optional]#Optional#::
The default From Name used in sending emails when a from name is not provided on an individual email template. This is the display name part of the email address ( i.e. **Jared Dunn**  <jared@piedpiper.com>).

image::core-concepts/tenant-configuration-email-verification-settings.png[Tenant Configuration - Email verification settings,width=1200,role=shadowed]

===== Email verification settings

[.api]
[field]#Verify email# [optional]#Optional#::
When enabled, users will be required to verify their email address.

[field]#Verify email when changed# [optional]#Optional#::
When enabled, users will be required to verify their email address upon update.

[field]#Verification template# [required]#Required#::
The email template to use when accounts are created to verify the User's email address.
+
Required when the [field]#Verify email# toggle is enabled.

[field]#Verification complete template# [optional]#Optional# [since]#Available since 1.30.0#::
The email template to use when notifying a user that email address has been verified.

[field]#Verification strategy# [optional]#Optional# [since]#Available since 1.27.0#::
The process by which the user will verify their email address. Using the "Form Field" method works only when the [field]#Unverified behavior# is `Gated`.

[field]#Unverified behavior# [optional]#Optional# [since]#Available since 1.27.0#::
The way a user is handled during the login process when they do not have a verified email address.

[field]#Allow email change when gated# [optional]#Optional# [since]#Available since 1.27.0#::
When enabled, the user is allowed to change their email address when they are gated because they haven't verified their email address.

[field]#Delete unverified users# [optional]#Optional#::
When enabled, users who have not verified their email address after a configurable duration since being created will be permanently deleted.

[field]#Delete after# [required]#Required#::
The duration since creation that a user must exist before being deleted for having an unverified email address.
+
Required when the [field]#Delete unverified users# toggle is enabled.


image::core-concepts/tenant-configuration-template-settings.png[Tenant Configuration - Email template settings,width=1200,role=shadowed]

===== Template settings

include::docs/v1/tech/core-concepts/_email-templates.adoc[]


==== Family
image::core-concepts/tenant-configuration-family-settings.png[Tenant Configuration - Family,width=1200,role=shadowed top-cropped]

===== Form Fields

[.api]
[field]#Enabled# [optional]#Optional#::
When enabled, you may model parent-child user relationships, and observe parental approval and age validation on user creation.

[field]#Maximum child age# [required]#Required#::
The maximum age a user can be to be considered a child.
+
Required when the [field]#Enabled# toggle is enabled.

[field]#Minimum owner age# [required]#Required#::
The minimum age a user must be to create a family.
+
Required when the [field]#Enabled# toggle is enabled.

[field]#Allow child registrations# [required]#Required#::
When enabled, allow children to register themselves without requiring a parent to create their account for them.

[field]#Family request template# [optional]#Optional#::
The email template used when children are not able to register themselves and they are asking their parent to create them an account.

[field]#Confirm child account template# [optional]#Optional#::
The email template used when a parent needs to confirm a child account before it is activated as part of their family.

[field]#Parent registration request template# [optional]#Optional#::
The email template used when a child is requesting that their parent create an account (because it is not created automatically).

[field]#Parent email required during registration# [optional]#Optional#::
When enabled, child users must provide their parent's email address during the registration process.

[field]#Delete unverified children# [optional]#Optional#::
When enabled, child user accounts that have not been verified by a parent after a configured period will be automatically deleted.

[field]#Delete after# [required]#Required#::
The number of days before a child account that has not yet been verified by a parent is automatically deleted.
+
Required when the [field]#Delete unverified children# toggle is enabled.

==== Multi-Factor

include::docs/v1/tech/shared/_premium-edition-blurb.adoc[]

**However, the Authenticator/TOTP implementation is not a premium feature.**

image::core-concepts/tenant-configuration-mfa-authenticator-settings.png[Tenant Configuration - MFA authenticator settings,width=1200,bottom-cropped top-cropped]

===== Authenticator settings

[.api]
[field]#Enabled# [optional]#Optional#::
When enabled, users may use an authenticator application to complete a multi-factor authentication request.

image::core-concepts/tenant-configuration-mfa-email-settings.png[Tenant Configuration - MFA email settings,width=1200,bottom-cropped top-cropped]

===== Email settings

[.api]
[field]#Enabled# [optional]#Optional#::
When enabled, users may use an email address to complete a multi-factor authentication request.

[field]#Template# [required]#Required#::
The email template to use when a multi-factor authentication request is sent to the User's email address.
+
Required when the [field]#Enabled# toggle is enabled.

image::core-concepts/tenant-configuration-mfa-sms-settings.png[Tenant Configuration - MFA SMS settings,width=1200,bottom-cropped top-cropped]

===== SMS settings

[.api]
[field]#Enabled# [optional]#Optional#::
When enabled, users may use a mobile phone number to complete a multi-factor authentication request.

[field]#Messenger# [required]#Required#::
The Messenger used to deliver the template.
+
Required when the [field]#Enabled# toggle is enabled.

[field]#Template# [required]#Required#::
The SMS template to use when a multi-factor authentication request is sent to the User's mobile phone number.
+
Required when the [field]#Enabled# toggle is enabled.

==== OAuth
image::core-concepts/tenant-configuration-oauth.png[Tenant Configuration - OAuth,width=1200,role=shadowed top-cropped]

===== Form Fields

[.api]
[field]#Session timeout# [optional]#Optional#::
The length of time an SSO session can be inactive before it is closed.

[field]#Logout URL# [optional]#Optional#::
The URL the user is redirected to upon logout.

[field]#Client credentials populate lambda# [optional]#Optional# [since]#Available since 1.28.0#::
The lambda that will be called to populate the JWT during a client credentials grant.


==== JWT
image::core-concepts/tenant-configuration-jwt.png[Tenant Configuration - JWT,width=1200,role=shadowed top-cropped]

===== JSON Web Token settings

[.api]
[field]#JWT duration# [required]#Required#::
The length of time the issued token (access token and Id token) is valid.  JWT tokens are typically short lived.

[field]#Access token signing key# [optional]#Optional#::
The key used to sign the access token JWT.

[field]#Id token signing key# [optional]#Optional#::
The key used to sign the Id token JWT.

===== Refresh Token settings

:page: tenant
include::docs/v1/tech/core-concepts/_refresh-token-settings.adoc[]

==== Password
image::core-concepts/tenant-configuration-password-failed-authentication-settings.png[Tenant Configuration - JWT,width=1200,role=shadowed top-cropped]

===== Failed authentication settings

[.api]
[field]#User action# [optional]#Optional#::
The user action must be 'time-based' and must have 'prevent login' enabled. This actions is applied after multiple failed login attempts.

[field]#Failed attempts# [required]#Required#::
The number of failed attempts allowed during the specified time period before the selected action is applied.

[field]#Time period# [required]#Required#::
The window of time in seconds for which the failed authentication attempts are counted. If no further failed attempts occur the failure count will be reset after this time period starting at the time of the last failed login.

[field]#Action duration# [required]#Required#::
The length of time the selected action is applied to the user before the action expires at which point the user will be allowed to attempt log in again.

[field]#Time unit# [optional]#Optional#::
The time unit the [field]#Action duration# is measured in.


image::core-concepts/tenant-configuration-password-breach-detection-settings.png[Tenant Configuration - JWT,width=1200,role=shadowed]

===== Breach detection settings

[.api]
[field]#Enabled# [optional]#Optional#::
When enabled, users' login Id and password will be checked against public breached password databases on user creation, password change, and (optionally) on login.  Purchase of a FusionAuth Edition is required to enable this feature.

[field]#Match mode# [optional]#Optional#::
The login Id and password match constraints to qualify as a breach match.

[field]#On login# [optional]#Optional#::
The action to perform during login for breach detection.  Performing breach detection during login may increase the time it takes to complete authentication.


image::core-concepts/tenant-configuration-password-validation-settings.png[Tenant Configuration - JWT,width=1200,role=shadowed]

===== Password settings

[.api]
[field]#Minimum length# [required]#Required#::
The minimum length a password may be to qualify as a valid password.

[field]#Maximum length# [required]#Required#::
The maximum length a password may be to qualify as a valid password.

[field]#Uppercase & lowercase# [optional]#Optional#::
When enabled, force the user to use at least one uppercase and one lowercase character.

[field]#Special character# [optional]#Optional#::
When enabled, force the user to use at least one non-alphanumeric character.

[field]#Number# [optional]#Optional#::
When enabled, force the user to use at least one number.

[field]#Minimum age (toggle)# [optional]#Optional#::
When enabled, users must wait a configurable duration before changing their password after the previous change.

[field]#Minimum age (value)# [required]#Required#::
The minimum age (in seconds) users must wait before changing their password after the previous change.
+
Required when the [field]#Minimum age# toggle is enabled.

[field]#Expiration (toggle)# [optional]#Optional#::
When enabled, user passwords will expire after a configurable duration, at which point the user will be forced to change their password on login.

[field]#Expiration (value)# [required]#Required#::
The duration (in days) the password expire after since the previous change.
+
Required when the [field]#Expiration# toggle is enabled.

[field]#Reject previous passwords# [optional]#Optional#::
When enabled, prevent users from using a configurable number of their previous passwords.

[field]#Number of passwords# [required]#Required#::
The number of previous password to retain, to prevent users from password reuse.
+
Required when the [field]#Reject previous passwords# toggle is enabled.

[field]#Re-validate on login# [optional]#Optional#::
When enabled the user's password will be validated during login. If the password does not meet the currently configured validation rules the user will be required to change their password.


image::core-concepts/tenant-configuration-password-cryptographic-hash-settings.png[Tenant Configuration - JWT,width=1200,role=shadowed]

===== Cryptographic hash settings

[.api]
[field]#Scheme# [optional]#Optional#::
The password encryption scheme used when creating new users and when changing a password.

[field]#Factor# [required]#Required#::
A non-zero number that provides an iteration count to the hashing scheme. A higher number will make the password hash more difficult to reverse engineer but will take more CPU time during login. Be careful as a high factor may cause logins to become very slow.

[field]#Re-hash on login# [optional]#Optional#::
When enabled the user's password hash will be modified if it does not match the configured values during next login.


==== Webhooks
image::core-concepts/tenant-configuration-webhooks-settings.png[Tenant Configuration - Webhooks,width=1200,role=shadowed]

===== Table Columns

include::docs/v1/tech/events-webhooks/_tenant-webhooks-table.adoc[]

==== Security

image::core-concepts/tenant-configuration-security-acl-catpcha.png[Tenant Configuration - Security: ACL and Captcha,width=1200,role=bottom-cropped]

===== Login API settings

[.api]
[field]#Require an API key# [optional]#Optional# [default]#Defaults to `true`#::
This indicates how to authenticate the Login API when an `applicationId` is not provided.
+
When an `applicationId` is provided, the application configuration will take precedence. In almost all cases you will want to leave this enabled to require the use of an API key.

===== Access control lists settings

include::docs/v1/tech/shared/_enterprise-edition-blurb.adoc[]

[.api]
[field]#Access control list# [optional]#Optional#::
The IP access control list that will be used to restrict or allow access to hosted login pages in FusionAuth. For example, it may be configured to only allow specific IP addresses to access authentication pages (login, forgot password, etc) for all applications on that tenant.
+
When [field]#Access control list# is configured on an application within the tenant, the application value will override the tenant value for that application.

===== Captcha settings

include::docs/v1/tech/shared/_enterprise-edition-blurb.adoc[]

[.api]
[field]#Enabled# [optional]#Optional# [default]#Defaults to `false`#::
When enabled, Captcha is used to help increase security of a form submission on the FusionAuth themed pages.

[field]#Method# [required]#Optional# [default]#Defaults to `GoogleRecaptchaV3`#::
The type of Captcha to use. FusionAuth supports `Google reCAPTCHA v2`, `Google reCAPTCHA v3`, `hCaptcha`, and `hCaptcha Enterprise`.
+
Required when `enabled` is set to `true`.

[field]#Secret key# [required]#Required#::
The secret key for this Captcha service.
+
Required when `enabled` is set to `true`.

[field]#Site key# [required]#Required#::
The site key for this Captcha service.
+
Required when `enabled` is set to `true`.

[field]#Threat score threshold# [optional]#Optional#::
The threat score threshold for this Captcha service if required. If it is not used by this Captcha service then the value will be ignored.

image::core-concepts/tenant-configuration-security-domains-rate-limiting.png[Tenant Configuration - Security: Blocked domains and rate limiting,width=1200,role=top-cropped]

===== Blocked domain settings

include::docs/v1/tech/shared/_enterprise-edition-blurb.adoc[]

[.api]
[field]#Blocked domains# [optional]#Optional#::
One or more newline separated email domains for which self service registration will be prohibited.. For example, enter your company email domain (`piedpiper.com`) to prevent employees from using the self-service registration form, or to prevent end users from attempting to create an account using a company email address.
+
This configuration is applied to all registration API requests and self-service registration pages for all applications in this tenant.

===== Rate limit settings

include::docs/v1/tech/shared/_enterprise-edition-blurb.adoc[]

The Rate limit settings allow you to set a number of times an action can be attempted within a specific time frame. When the limit is exceeded, that action is unavailable until the configured time frame elapses without a failed attempt. The settings are evaluated and enforced per user.

[.api]
[field]#Action#::
The action to be rate limited.
+
*Note:* For the `Failed login` action, rate limiting can be used in combination with <<Failed authentication settings>>. When enabled, and rate limiting conditions have been exceeded, login requests will be denied and bypass the login flow until conditions are no longer exceeded. [field]#Failed attempts# will only be incremented when requests are not being rate limited.

[field]#Enabled#::
When enabled, the corresponding action will be rate limited when the [field]#limit# value has been exceeded within the specified [field]#time period#.

[field]#Limit#::
The number of allowed attempts within the [field]#time period# before an action will be rate limited. When an action is rate limited, it will not succeed.

[field]#Time period#::
The window of time that the [field]#limit# is evaluated against when determining if an action should be rate limited.


==== Advanced

image::core-concepts/tenant-configuration-extId-durations.png[Tenant Configuration - External Identifier Durations,width=1200,role=shadowed top-cropped]

===== External identifier durations Form Fields

[.api]
[field]#Authorization Code# [required]#Required#::
The number of seconds before the OAuth2 Authorization Code is no longer valid to be used to complete a Token request.

[field]#Change Password# [required]#Required#::
The number of seconds before the Change Password identifier is no longer valid to complete the Change Password request.

[field]#Device Grant Codes# [required]#Required#::
The number of seconds before the `device_code` and `user_code` are no longer valid to be used to complete the Device Code grant.

[field]#Email Verification# [required]#Required#::
The number of seconds before the Email Verification identifier is no longer valid to complete the Email Verification request.

[field]#External Authentication# [required]#Required#::
The number of seconds before the External Authentication identifier is no longer valid to complete the Authentication request.

[field]#One Time Password# [required]#Required#::
The number of seconds before the One Time Password identifier is no longer valid to complete a Login request.

[field]#Passwordless Login# [required]#Required#::
The number of seconds before the Passwordless Login identifier is no longer valid to complete a Login request.

[field]#Pending account link# [required]#Required#::
The number of seconds before the Pending account link is no longer valid to complete an account link request.

[field]#Registration Verification# [required]#Required#::
The number of seconds before the Registration Verification identifier is no longer valid to complete the Registration Verification request.

[field]#SAMLv2 AuthN request# [required]#Required#::
The number of seconds before the SAMLv2 AuthN request is no longer valid to complete the SAMLv2 login request.

[field]#Setup Password# [required]#Required#::
The number of seconds before the Setup Password identifier is no longer valid to complete the Change Password request.

[field]#Two Factor Login# [required]#Required#::
The number of seconds before the Two Factor identifier is no longer valid to complete a Two Factor login request.

[field]#Two Factor one-time code# [required]#Required#::
The number of seconds before the Two Factor one-time code used to enable or disable a two-factor method is no longer valid.

[field]#Two Factor Trust# [required]#Required#::
The number of seconds before the Two Factor Trust is no longer valid and the user will be prompted for Two Factor during login.


image::core-concepts/tenant-configuration-extId-generation.png[Tenant Configuration - External Identifier Generation,width=1200,role=shadowed]

===== External identifier generation Form Fields

[.api]
[field]#Change Password# [required]#Required#::
The length and type of characters of the generated code used in the Change Password flow.

[field]#Email Verification# [required]#Required#::
The length and type of characters of the generated code used in the Email Verification flow.

[field]#Email Verification one-time code# [required]#Required#::
The length and type of characters of the generated code used for Email Verification one-time codes.
+
The one-time code for email verification is only used with email verification gating and when using a form field configuration instead of the clickable link.

[field]#Passwordless Login# [required]#Required#::
The length and type of characters of the generated code used in the Passwordless Login flow.

[field]#Registration Verification# [required]#Required#::
The length and type of characters of the generated code used in the Registration Verification flow.

[field]#Registration Verification one-time code# [required]#Required#::
The length and type of characters of the generated code used for Registration Verification one-time codes.
+
The one-time code for registration verification is only used with registration verification gating and when using a form field configuration instead of the clickable link.

[field]#Setup Password# [required]#Required#::
The length and type of characters of the generated code used in the Setup Password flow.

[field]#Device grant user code# [required]#Required#::
The length and type of characters of the generated user code used in the Device Authorization Grant flow.

[field]#Two-Factor one-time code# [required]#Required#::
The length and type of characters of the generated code used for Two-Factor one-time codes.


===== SMTP Settings Form Fields

[.api]
[field]#Additional properties# [optional]#Optional#::
The custom SMTP configuration properties that may be necessary in some cases.
